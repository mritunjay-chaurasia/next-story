{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/lib/validations.ts"],"sourcesContent":["import * as z from \"zod\";\n\nexport const signInSchema = z.object({\n  email: z\n    .string({ required_error: \"Email is required\" })\n    .min(1, \"Email is required\")\n    .email(\"Invalid email\"),\n  password: z\n    .string({ required_error: \"Password is required\" })\n    .min(1, \"Password is required\")\n    .min(8, \"Password must be more than 8 characters\")\n    .max(32, \"Password must be less than 32 characters\"),\n});\n\nexport const registerSchema = z\n  .object({\n    email: z.string().email(\"Invalid email address\"),\n    password: z\n      .string()\n      .min(8)\n      .regex(\n        /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/,\n        \"Password must contain at least 8 characters, including uppercase, lowercase, number, and special character.\"\n      ),\n    confirmPassword: z.string().min(8, \"Password confirmation is required\"),\n  })\n  .refine((data) => data.password === data.confirmPassword, {\n    message: \"Passwords do not match\",\n    path: [\"confirmPassword\"],\n  });\n\nexport const forgotPasswordSchema = z.object({\n  email: z.string().email(\"Invalid email address\"),\n});\n\nexport const resetPasswordSchema = z\n  .object({\n    password: z.string().min(8, \"Password must be at least 8 characters\"),\n    confirmPassword: z\n      .string()\n      .min(8, \"Confirm Password must be at least 8 characters\"),\n  })\n  .refine((data) => data.password === data.confirmPassword, {\n    message: \"Passwords don't match\",\n    path: [\"confirmPassword\"],\n  });\n\nexport const humanSchema = z.object({\n  _id: z.string().optional(),\n  characterType: z.literal(\"human\"),\n  name: z.string().min(1, \"Name is required\"),\n  age: z.union([\n    z.string().min(1, \"Age is required\"),\n    z.number()\n  ]),\n  gender: z.string().min(1, \"Gender is required\"),\n  ethnicity: z.string().min(1, \"Ethnicity is required\"),\n  hairColor: z.string().min(1, \"Hair Color is required\"),\n  hairLength: z.string().min(1, \"Hair Length is required\"),\n  characterAttributes: z.string().min(1, \"Character attributes are required\"),\n  characterImage: z.string().optional(),\n});\n\nexport const animalSchema = z.object({\n  _id: z.string().optional(),\n  name: z.string().min(1, \"Name is required\"),\n  characterType: z.enum([\"dog\", \"cat\", \"bird\"]),\n  breed: z.string().min(1, \"Breed is required\"),\n  characterAttributes: z.string().min(1, \"Character attributes are required\"),\n  characterImage: z.string().optional(),\n});\n\nexport const otherSchema = z.object({\n  _id: z.string().optional(),\n  name: z.string().min(1, \"Name is required\"),\n  characterType: z.enum([\"\", \"other\"]),\n  characterAttributes: z.string().min(1, \"Character attributes are required\"),\n  characterImage: z.string().optional(),\n});\n\nexport const characterSchema = z.discriminatedUnion(\"characterType\", [\n  humanSchema,\n  animalSchema,\n  otherSchema,\n]);\n\nexport const storySchema = z.object({\n  title: z.string().min(1, \"Title is required\"),\n  description: z.string().min(10, \"Description must be at least 10 characters\"),\n  message: z.string().optional(),\n  rhyming: z.boolean().default(false),\n  characters: z.array(characterSchema).optional()\n});\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/components/Story/AboutStory.tsx"],"sourcesContent":["\"use client\";\n\nimport { characterSchema, storySchema } from \"@/lib/validations\";\nimport { createBackendUrl } from \"@/utils/helpers\";\nimport { Dialog } from \"@headlessui/react\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport Image from \"next/image\";\nimport { Fragment, useEffect, useState } from \"react\";\nimport { useForm, useWatch } from \"react-hook-form\";\nimport toast from \"react-hot-toast\";\n\nimport { z } from \"zod\";\n\ntype CharacterFormData = z.infer<typeof characterSchema>;\ntype StoryFormData = z.infer<typeof storySchema>;\n\ntype AboutStoryProps = {\n  creatingStory: boolean;\n  storyData?: StoryFormData | undefined;\n  story?: Story | undefined;\n  addCharacter: () => void;\n  onSelectCharacter: (index: number) => void;\n  onRemoveCharacter: (index: number) => void;\n  characters: CharacterFormData[];\n  onSave: (data: StoryFormData, generate: boolean) => void;\n  isEdit: boolean;\n};\n\nexport default function AboutStory({\n  creatingStory,\n  storyData,\n  addCharacter,\n  onSelectCharacter,\n  onRemoveCharacter,\n  characters,\n  onSave,\n  isEdit = false,\n  story = undefined\n}: AboutStoryProps) {\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    control,\n    reset\n  } = useForm<StoryFormData>({\n    resolver: zodResolver(storySchema),\n    defaultValues: storyData,\n  });\n\n  const [showAlertModal, setShowAlertModal] = useState(false);\n\n  // console.log(errors, control)\n\n  useEffect(() => {\n    reset(story);\n  }, [story]);\n\n  // Watch for field changes\n  const formData: any | undefined = useWatch({ control });\n\n  // Trigger onSave when form data changes\n  useEffect(() => {\n    onSave(formData, false);\n  }, [formData]);\n\n  const onSubmit = (data: StoryFormData) => {\n    if (characters && characters.length > 0) {\n      onSave(data, true);\n    } else {\n      toast.error(\"Select at-least one character\");\n    }\n  };\n\n  const submitForm = () => {\n    setShowAlertModal(false);\n    handleSubmit(onSubmit)();\n  }\n\n  return (\n    <>\n      <form className={`${isEdit ? 'mt-5' : ''}`} onSubmit={handleSubmit(onSubmit)}>\n        <h1 className=\"text-[#2B282F] font-sans text-[18px] md:text-[22px] font-normal leading-normal tracking-[-0.88px] candal-font mb-[18px]\">\n          {!isEdit ? 'Step 1: ' : ''}Provide an overview of your story\n        </h1>\n        <div className={`${isEdit ? 'md:py-[10px] py-[8px] px-4' : 'md:p-[24px] p-[8px] py-[15px]'} md:py-[24px] bg-[#E1E1E1] rounded-[24px] mb-[31px]`}>\n          <div className=\"mb-[18px]\">\n            <input\n              type=\"text\"\n              {...register(\"title\")}\n              placeholder=\"Title of Book\"\n              className=\"bg-[#D8D8D8] text-[#6F6A77] text-base font-medium leading-normal w-full rounded-[40px] md:py-[17px] py-[12px] px-[18px] md:px-[24px] focus:outline-none\"\n            />\n            {errors.title && (\n              <p className=\"text-red-500 text-sm\">{errors.title.message}</p>\n            )}\n          </div>\n\n          <div className=\"mb-[18px]\">\n            <textarea\n              {...register(\"description\")}\n              placeholder=\"Story Description - The story will be crafted based on this. Tell us with as much detail as possible about what you want to be included in the story.\"\n              className=\"bg-[#D8D8D8] text-[#6F6A77] text-base font-medium leading-normal w-full rounded-[34px] py-[17px] px-[24px] focus:outline-none min-h-[150px]\"\n            ></textarea>\n            {errors.description && (\n              <p className=\"text-red-500 text-sm\">\n                {errors.description.message}\n              </p>\n            )}\n          </div>\n\n          <div className=\"md:mb-[18px]\">\n            <textarea\n              {...register(\"message\")}\n              placeholder=\"Dedication - Write a personal message...\"\n              className=\"bg-[#D8D8D8] text-[#6F6A77] text-base font-medium leading-normal w-full rounded-[34px] py-[17px] px-[24px] focus:outline-none min-h-[150px]\"\n            ></textarea>\n          </div>\n\n          <div className=\"md:mb-[18px] flex items-center\">\n            <input type=\"checkbox\" {...register(\"rhyming\")} id=\"rhymingWord\" />\n            <label htmlFor=\"rhymingWord\" className=\"ml-[10px] text-[#6F6A77]\">\n              Create a Rhyming Story (with rhyming couplets)\n            </label>\n          </div>\n        </div>\n        <div className=\"flex flex-col md:flex-row gap-[18px] md:items-center justify-between mb-[34px]\">\n          <h2 className=\"text-[#2B282F] font-sans text-[18px] md:text-[22px] font-normal leading-normal tracking-[-0.88px] candal-font\">\n            {!isEdit ? 'Step 2: ' : ''}Add the character(s) to your story\n          </h2>\n          <button\n            onClick={addCharacter}\n            className=\"bg-[#2B1354] rounded-[40px] p-[6px] flex items-center gap-[18px] pr-[44px] text-white cursor-pointer w-full md:w-fit\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"42\"\n              height=\"42\"\n              viewBox=\"0 0 42 42\"\n              fill=\"none\"\n            >\n              <circle cx=\"21\" cy=\"21\" r=\"21\" fill=\"#C4CD24\" />\n              <path\n                d=\"M21 29C20.858 29 20.739 28.952 20.643 28.856C20.547 28.76 20.4993 28.6413 20.5 28.5V21.5H13.5C13.358 21.5 13.2393 21.452 13.144 21.356C13.0487 21.26 13.0007 21.141 13 20.999C12.9993 20.857 13.0473 20.7383 13.144 20.643C13.2407 20.5477 13.3593 20.5 13.5 20.5H20.5V13.5C20.5 13.358 20.548 13.2393 20.644 13.144C20.74 13.0487 20.859 13.0007 21.001 13C21.143 12.9993 21.2617 13.0473 21.357 13.144C21.4523 13.2407 21.5 13.3593 21.5 13.5V20.5H28.5C28.642 20.5 28.7607 20.548 28.856 20.644C28.9513 20.74 28.9993 20.859 29 21.001C29.0007 21.143 28.9527 21.2617 28.856 21.357C28.7593 21.4523 28.6407 21.5 28.5 21.5H21.5V28.5C21.5 28.642 21.452 28.7607 21.356 28.856C21.26 28.9513 21.141 28.9993 20.999 29\"\n                fill=\"#2B1354\"\n              />\n            </svg>\n            <span>Add Character</span>\n          </button>\n        </div>\n        {characters && characters.length > 0 ? (\n          <>\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-[18px]\">\n              {characters.map((character, index) => {\n                return (\n                  <div\n                    key={`character-${index}`}\n                    className=\"rounded-[24px] py-[12px] px-[18px] bg-[#fff] flex items-center justify-between gap-[10px] w-full\"\n                  >\n                    <div className=\"flex items-center gap-[18px]\">\n                      <Image\n                        src={createBackendUrl(character?.characterImage)}\n                        height={60}\n                        width={60}\n                        alt=\"charactor image\"\n                        className=\"w-[60px] h-[60px] object-cover  border border-red-500 rounded-full\"\n                        unoptimized\n                      />\n                      <p\n                        onClick={() => onSelectCharacter(index)}\n                        className=\"flex flex-col gap-[8px]\"\n                      >\n                        <span className=\"text-[#6F6A77] font-poppins text-[14px] font-normal leading-normal\">\n                          Character {index + 1}\n                        </span>\n                        <span className=\"text-[#2B282F] font-poppins text-[18px] font-medium leading-normal flex items-center\">\n                          <span>{character?.name}</span>\n                          <span>{\">\"}</span>\n                        </span>\n                      </p>\n                    </div>\n                    <button\n                      type=\"button\"\n                      onClick={() => onRemoveCharacter(index)}\n                      className=\"cursor-pointer\"\n                    >\n                      <Image\n                        src=\"/assets/images/cross.svg\"\n                        height={24}\n                        width={24}\n                        alt=\"charactor image\"\n                        className=\"w-[24px] h-[24px] object-cover\"\n                      />\n                    </button>\n                  </div>\n                );\n              })}\n            </div>\n          </>\n        ) : (\n          <>\n            <div className=\"rounded-[24px] py-[12px] px-[18px] bg-[#e1e1e1] flex items-center justify-between gap-[10px] pr-[40px] w-fit\">\n              <Image\n                src=\"/assets/images/dummy-char.svg\"\n                height={60}\n                width={60}\n                alt=\"charactor image\"\n                className=\"w-[60px] h-[60px] object-cover\"\n              />\n              <span>No Character Added</span>\n            </div>\n          </>\n        )}\n        {!isEdit && (\n          <button\n            disabled={creatingStory}\n            type=\"submit\"\n            className=\"mt-4 bg-[#C4CD24] rounded-[40px] w-full py-[12px] md:py-[17px] mb-0 text-[#2B1354] text-center font-poppins text-base font-medium leading-normal cursor-pointer\"\n          >\n            {creatingStory ? <>Please wait...</> : <>Continue & Generate</>}\n          </button>\n        )}\n        {isEdit && (\n          <div className=\"flex items-center mt-[35px] gap-2\">\n            {\n              (story?.totalEdits ?? 0) >= (story?.editsAllowed ?? 0) ? <>\n                <p className=\"text-center w-full mb-5\">\n                  No more edits allowed\n                </p>\n              </> : <>\n                <button\n                  onClick={() => setShowAlertModal(true)}\n                  disabled={creatingStory}\n                  type=\"button\"\n                  id=\"updateStoryModalBtn\"\n                  className=\"flex items-center w-[200px] justify-center bg-[#C4CD24] rounded-[40px] py-[12px] md:py-[17px] mb-0 text-[#2B1354] text-center font-poppins text-base font-medium leading-normal cursor-pointer\"\n                >\n                  {\n                    creatingStory ? <>\n                      <Image\n                        src=\"/assets/images/regenrate-simple.svg\"\n                        width={24}\n                        height={24}\n                        alt=\"icon\"\n                        className=\"animate-spin w-[24px] h-[24px] blackimg object-cover me-2\"\n                      />\n                      <span>Please wait...</span>\n                    </> : <>\n                      <Image\n                        src=\"/assets/images/regenrate-simple.svg\"\n                        width={24}\n                        height={24}\n                        alt=\"icon\"\n                        className=\"w-[24px] h-[24px] blackimg object-cover me-2\"\n                      />\n                      <span>Update Book</span>\n                    </>\n                  }\n                </button>\n                <h4 className=\"m-0 p-4 text-[18px]\">{story?.totalEdits}/{story?.editsAllowed}</h4>\n              </>\n            }\n          </div>\n        )}\n\n        <Dialog\n          open={showAlertModal}\n          onClose={() => setShowAlertModal(false)}\n          className=\"relative z-50\"\n        >\n          <div\n            className=\"fixed inset-0 bg-black/30\"\n            aria-hidden=\"true\"\n          />\n\n          <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n            <Dialog.Panel className=\"mx-auto w-full md:w-[750px] rounded-[34px] bg-white p-6 shadow-lg relative\">\n              <button\n                onClick={() => setShowAlertModal(false)}\n                className=\"absolute top-[24px] right-[24px] text-gray-600 hover:text-gray-800 cursor-pointer\"\n                aria-label=\"Close\"\n              >\n                <Image\n                  width={24}\n                  height={24}\n                  alt=\"close-icon\"\n                  src=\"/assets/images/modal-close.svg\"\n                />\n              </button>\n              <div className=\"mt-[24px] text-center grid grid-cols-1 gap-[18px]\">\n                <h3 className=\"text-[#2B282F] mb-0 candal-font font-normal text-[22px] leading-normal tracking-[-0.88px]\">Are You Sure You want to Regenerate The Story?</h3>\n                <p className=\"text-[#6F6A77] font-poppins text-[16px] font-semibold leading-normal mb-[0px]\">\n                  By clicking “Yes” you will not be able to revert the changes made to your story\n                </p>\n                <div className=\"flex gap-2 px-3\">\n                  <button\n                    onClick={() => setShowAlertModal(false)}\n                    className=\"bg-[#2B1354] w-full p-[15px] text-[#fff] rounded-[40px] cursor-pointer text-[#EBEBEB] text-center font-poppins text-[16px] font-medium leading-normal flex items-center justify-center gap-[12px] mt-[18px]\">\n                    <span>No, Go Back</span>\n                  </button>\n                  <button\n                    onClick={submitForm}\n                    type=\"button\"\n                    className=\"bg-[#C4CD24] w-full p-[15px] text-[#333] rounded-[40px] cursor-pointer text-[#333] text-center font-poppins text-[16px] font-medium leading-normal flex items-center justify-center gap-[12px] mt-[18px]\"\n                  >\n                    <span>Yes, Regenerate</span>\n                  </button>\n                </div>\n              </div>\n            </Dialog.Panel>\n          </div>\n        </Dialog>\n\n\n      </form>\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 710, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 716, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/components/Common/SmartImage.tsx"],"sourcesContent":["'use client';\n\nimport Image from 'next/image';\nimport { useEffect, useState } from 'react';\n\ninterface SmartImageProps {\n    src: string;\n    alt: string;\n    className?: string;\n    width?: number;\n    height?: number;\n    onClick?: () => void; // <-- optional now\n}\n\nexport default function SmartImage({\n    src,\n    alt,\n    className = '',\n    width = undefined,\n    height = undefined,\n    ...props\n}: SmartImageProps) {\n\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(false);\n    const [useFallback, setUseFallback] = useState(false);\n\n    const handleLoad = () => {\n        setLoading(false);\n    };\n\n    const handleImageError = () => {\n        setUseFallback(true);\n    };\n\n    const handleFallbackError = () => {\n        setLoading(false);\n        setError(true);\n    };\n\n    useEffect(() => {\n        setLoading(true);\n        setError(false);\n        setUseFallback(false);\n    }, [src]);\n\n    return (\n        <div className=\"smart-image-wrapper\">\n            {loading && !error && (\n                <div className=\"smart-image-loader\">\n                    <div className=\"smart-image-spinner\" />\n                </div>\n            )}\n            {error ? (\n                <div className=\"smart-image-error\">Failed to load image</div>\n            ) : (\n                <>\n                    {!useFallback && width ? (\n                        <Image\n                            width={width}\n                            height={height}\n                            src={src}\n                            alt={alt}\n                            onLoad={handleLoad}\n                            onError={handleImageError}\n                            className={`smart-image ${loading ? 'loading' : 'loaded'} ${className}`}\n                            {...props}\n                        />\n                    ) : (\n                        <img\n                            src={src}\n                            alt={alt}\n                            width={width}\n                            height={height}\n                            onLoad={handleLoad}\n                            onError={handleFallbackError}\n                            className={`smart-image ${loading ? 'loading' : 'loaded'} ${className}`}\n                            {...props}\n                        />\n                    )}\n                </>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAce,SAAS,WAAW,EAC/B,GAAG,EACH,GAAG,EACH,YAAY,EAAE,EACd,QAAQ,SAAS,EACjB,SAAS,SAAS,EAClB,GAAG,OACW;IAEd,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,MAAM,aAAa;QACf,WAAW;IACf;IAEA,MAAM,mBAAmB;QACrB,eAAe;IACnB;IAEA,MAAM,sBAAsB;QACxB,WAAW;QACX,SAAS;IACb;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,WAAW;QACX,SAAS;QACT,eAAe;IACnB,GAAG;QAAC;KAAI;IAER,qBACI,8OAAC;QAAI,WAAU;;YACV,WAAW,CAAC,uBACT,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAI,WAAU;;;;;;;;;;;YAGtB,sBACG,8OAAC;gBAAI,WAAU;0BAAoB;;;;;qCAEnC;0BACK,CAAC,eAAe,sBACb,8OAAC,6HAAA,CAAA,UAAK;oBACF,OAAO;oBACP,QAAQ;oBACR,KAAK;oBACL,KAAK;oBACL,QAAQ;oBACR,SAAS;oBACT,WAAW,CAAC,YAAY,EAAE,UAAU,YAAY,SAAS,CAAC,EAAE,WAAW;oBACtE,GAAG,KAAK;;;;;yCAGb,8OAAC;oBACG,KAAK;oBACL,KAAK;oBACL,OAAO;oBACP,QAAQ;oBACR,QAAQ;oBACR,SAAS;oBACT,WAAW,CAAC,YAAY,EAAE,UAAU,YAAY,SAAS,CAAC,EAAE,WAAW;oBACtE,GAAG,KAAK;;;;;;;;;;;;;AAOrC","debugId":null}},
    {"offset": {"line": 807, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 813, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/components/Story/CharacterForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { characterSchema } from \"@/lib/validations\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useEffect, useRef, useState } from \"react\";\nimport Image from \"next/image\";\nimport { useForm, useWatch } from \"react-hook-form\";\nimport { z } from \"zod\";\nimport { uploadMedia } from \"@/services/user-service\";\nimport toast from \"react-hot-toast\";\nimport { createBackendUrl } from \"@/utils/helpers\";\nimport SmartImage from \"../Common/SmartImage\";\n\ntype CharacterFormData = z.infer<typeof characterSchema>;\n\ntype CharacterFormProps = {\n  character?: CharacterFormData;\n  handleBack: () => void;\n  handleSave: (characterDetails: CharacterFormData) => void;\n  originalCharacters: CharacterFormData[];\n  characters: CharacterFormData[];\n  isEdit?: boolean\n};\n\nexport default function CharacterForm({\n  character,\n  handleBack,\n  handleSave,\n  originalCharacters,\n  characters,\n  isEdit = false\n}: CharacterFormProps) {\n\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\n\n  const [imageUploading, setImageUploading] = useState(false);\n  const [characterImage, setCharacterImage] = useState(\"\");\n  const [showOldCharacter, setShowOldCharacter] = useState(false);\n\n  const [selectedCharacter, setSelectedCharacter] =\n    useState<CharacterFormData | null>(null);\n\n  useEffect(() => {\n    if (character) {\n      setCharacterImage(character.characterImage || \"\");\n      reset(character);\n    }\n  }, [character]);\n\n  const {\n    control,\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm<CharacterFormData>({\n    resolver: zodResolver(characterSchema),\n  });\n\n  const characterType = useWatch({\n    control,\n    name: \"characterType\",\n    defaultValue: undefined,\n  });\n\n  const onSubmit = (data: CharacterFormData) => {\n    if (characterImage != \"\") {\n      handleSave({\n        ...data,\n        characterImage,\n      });\n      reset();\n      setSelectedCharacter(null);\n      setCharacterImage(\"\");\n    } else {\n      toast.error(\"Character Image is required!\");\n    }\n  };\n\n  useEffect(() => {\n    if (selectedCharacter && characterImage !== \"\") {\n      let alreadyPresent = false;\n      characters.map((character) => {\n        if (character?._id === selectedCharacter?._id) {\n          alreadyPresent = true;\n        }\n      });\n      if (alreadyPresent) {\n        toast.error(\"Character already selected\");\n      } else {\n        onSubmit(selectedCharacter);\n      }\n      setSelectedCharacter(null); // clean up\n    }\n  }, [characterImage]);\n\n  const selectOldCharacter = (data: any) => {\n    setSelectedCharacter(data);\n    setCharacterImage(data?.characterImage);\n  };\n\n  const handleUploadTrigger = () => {\n    if (fileInputRef.current) {\n      fileInputRef.current.click();\n    }\n  };\n\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files && event.target.files.length > 0) {\n      const file = event.target.files[0];\n      setImageUploading(true);\n      uploadMedia({ file })\n        .then((res: any) => {\n          setCharacterImage(res?.data?.url ?? \"\");\n        })\n        .catch((error) => {\n          toast.error(error?.message ?? \"Failed to upload image\")\n        })\n        .finally(() => {\n          setImageUploading(false);\n          if (fileInputRef.current) {\n            fileInputRef.current.value = \"\";\n          }\n        });\n    }\n  };\n\n  const toggleCharacterSelect = () => {\n    setShowOldCharacter((prev) => !prev);\n  };\n\n  return (\n    <>\n      <form className={`${isEdit ? 'relative pt-[100px]' : ''}`} onSubmit={handleSubmit(onSubmit)}>\n        <button className=\"back-btn cursor-pointer\" onClick={handleBack}>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"56\"\n            height=\"56\"\n            viewBox=\"0 0 56 56\"\n            fill=\"none\"\n          >\n            <circle\n              cx=\"28\"\n              cy=\"28\"\n              r=\"28\"\n              transform=\"matrix(-1 0 0 1 56 0)\"\n              fill=\"#C4CD24\"\n            />\n            <path\n              d=\"M37 28L19 28M19 28L27.5 36.5M19 28L27.5 19.5\"\n              stroke=\"#2B1354\"\n              strokeWidth=\"1.8\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n            />\n          </svg>\n        </button>\n        <h1 className=\"text-[#2B282F] text-center text-[28px] md:text-[34px] font-normal leading-normal tracking-[-1.36px] candal-font mb-[34px]\">\n          Add Character\n        </h1>\n        <div className=\"flex items-center justify-center\">\n          {originalCharacters &&\n            Array.isArray(originalCharacters) &&\n            originalCharacters?.length > 0 &&\n            (showOldCharacter ? (\n              <button\n                type=\"button\"\n                className=\"bg-[#C4CD24] my-3 rounded-[40px] p-[30px] md:py-[17px] text-[#2B1354] text-center font-poppins text-base font-medium leading-normal cursor-pointer\"\n                onClick={toggleCharacterSelect}\n              >\n                Add New Character\n              </button>\n            ) : (\n\n              <button\n                type=\"button\"\n                className=\"bg-[#C4CD24] my-3 rounded-[40px] p-[30px] md:py-[17px] text-[#2B1354] text-center font-poppins text-base font-medium leading-normal cursor-pointer\"\n                onClick={toggleCharacterSelect}\n              >\n                Select from Old Character\n              </button>\n\n            ))}\n        </div>\n        {showOldCharacter ? (\n          <div>\n            <h4 className=\"mb-3\">Select an old character</h4>\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-[18px]\">\n              {\n                originalCharacters && originalCharacters.length > 0 ? <>\n                  {originalCharacters.map((character, index) => (\n                    <div\n                      key={`character-${index}`}\n                      className=\"rounded-[24px] py-[12px] px-[18px] bg-[#fff] flex items-center justify-between gap-[10px] w-full\"\n                      onClick={(e) => selectOldCharacter(character)}\n                    >\n                      <div className=\"flex items-center gap-[18px]\">\n                        <Image\n                          src={\n                            character?.characterImage\n                              ? createBackendUrl(character?.characterImage)\n                              : \"/assets/images/dummy-char.svg\"\n                          }\n                          height={60}\n                          width={60}\n                          alt=\"charactor image\"\n                          className=\"w-[60px] h-[60px] object-cover  border border-red-500 rounded-full\"\n                          unoptimized\n                        />\n                        <p className=\"flex flex-col gap-[8px]\">\n                          <span className=\"text-[#6F6A77] font-poppins text-[14px] font-normal leading-normal\">\n                            Character {index + 1}\n                          </span>\n                          <span className=\"text-[#2B282F] font-poppins text-[18px] font-medium leading-normal flex items-center\">\n                            <span>{character?.name}</span>\n                            <span>{\">\"}</span>\n                          </span>\n                        </p>\n                      </div>\n                    </div>\n                  ))}\n                </> : <>\n                  <p className=\"w-full text-center\">No Old Characters found, please create one.</p>\n                </>\n              }\n            </div>\n          </div>\n        ) : (\n          <div>\n            <h4 className=\"mb-3\">Create new character</h4>\n            <div className=\"rounded-[24px] grid grid-cols-1 md:grid-cols-2 gap-[18px] mb-0\">\n              <div>\n                <input\n                  {...register(\"name\")}\n                  placeholder=\"Name\"\n                  className=\"w-full bg-[#D8D8D8] text-[#6F6A77] text-base font-medium leading-normal rounded-[40px] md:py-[17px] py-[12px] px-[18px] md:px-[24px] focus:outline-none\"\n                />\n                {errors.name && (\n                  <p className=\"text-red-500\">{errors.name.message}</p>\n                )}\n              </div>\n              <div>\n                <select\n                  {...register(\"characterType\")}\n                  className=\"w-full bg-[#D8D8D8] text-[#6F6A77] text-base font-medium leading-normal rounded-[40px] md:py-[17px] py-[12px] px-[18px] md:px-[24px] focus:outline-none\"\n                >\n                  <option value=\"\">Character Type</option>\n                  <option value=\"human\">Human</option>\n                  <option value=\"dog\">Dog</option>\n                  <option value=\"cat\">Cat</option>\n                  <option value=\"bird\">Bird</option>\n                  <option value=\"other\">Other</option>\n                </select>\n                {errors.characterType && (\n                  <p className=\"text-red-500\">{errors.characterType.message}</p>\n                )}\n              </div>\n            </div>\n            {characterType === \"human\" && (\n              <>\n                <div className=\"rounded-[24px] grid grid-cols-1 md:grid-cols-2 gap-[18px] mb-0 my-4\">\n                  <div>\n                    <input\n                      type=\"number\"\n                      {...register(\"age\")}\n                      placeholder=\"Age\"\n                      className=\"w-full bg-[#D8D8D8] text-[#6F6A77] text-base font-medium leading-normal rounded-[40px] md:py-[17px] py-[12px] px-[18px] md:px-[24px] focus:outline-none\"\n                    />\n                    {/* @ts-ignore */}\n                    {errors.age && (\n                      <>\n                        {/* @ts-ignore */}\n                        <p className=\"text-red-500\">{errors.age.message}</p>\n                      </>\n                    )}\n                  </div>\n                  <div>\n                    <select\n                      {...register(\"gender\")}\n                      className=\"w-full bg-[#D8D8D8] text-[#6F6A77] text-base font-medium leading-normal rounded-[40px] md:py-[17px] py-[12px] px-[18px] md:px-[24px] focus:outline-none\"\n                    >\n                      <option value=\"\">Select Gender</option>\n                      <option value=\"male\">Male</option>\n                      <option value=\"female\">Female</option>\n                      <option value=\"other\">Other</option>\n                    </select>\n                    {/* @ts-ignore */}\n                    {errors.gender && (\n                      <>\n                        {/* @ts-ignore */}\n                        <p className=\"text-red-500\">{errors.gender.message}</p>\n                      </>\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"rounded-[24px] grid grid-cols-1 md:grid-cols-3 gap-[18px] mb-0 my-4\">\n                  <div>\n                    <select\n                      {...register(\"ethnicity\")}\n                      className=\"w-full bg-[#D8D8D8] text-[#6F6A77] text-base font-medium leading-normal rounded-[40px] md:py-[17px] py-[12px] px-[18px] md:px-[24px] focus:outline-none\"\n                    >\n                      <option value=\"\">Select Ethnicity</option>\n                      <option value=\"white\">White</option>\n                      <option value=\"black\">Black</option>\n                      <option value=\"asian\">Asian</option>\n                      <option value=\"hispanic\">Hispanic</option>\n                      <option value=\"middle eastern\">Middle Eastern</option>\n                      <option value=\"latino\">Latino</option>\n                      <option value=\"indian\">Indian</option>\n                      <option value=\"other\">Other</option>\n                    </select>\n                    {/* @ts-ignore */}\n                    {errors.ethnicity && (\n                      <>\n                        {/* @ts-ignore */}\n                        <p className=\"text-red-500\">{errors.ethnicity.message}</p>\n                      </>\n                    )}\n                  </div>\n                  <div>\n                    <select\n                      {...register(\"hairColor\")}\n                      className=\"w-full bg-[#D8D8D8] text-[#6F6A77] text-base font-medium leading-normal rounded-[40px] md:py-[17px] py-[12px] px-[18px] md:px-[24px] focus:outline-none\"\n                    >\n                      <option value=\"\">Select Hair Color</option>\n                      <option value=\"black\">Black</option>\n                      <option value=\"brown\">Brown</option>\n                      <option value=\"blonde\">Blonde</option>\n                      <option value=\"red\">Red</option>\n                      <option value=\"gray\">Gray</option>\n                      <option value=\"other\">Other</option>\n                    </select>\n                    {/* @ts-ignore */}\n                    {errors.hairColor && (\n                      <p className=\"text-red-500\">\n                        {/* @ts-ignore */}\n                        {errors.hairColor.message}\n                      </p>\n                    )}\n                  </div>\n                  <div>\n                    <select\n                      {...register(\"hairLength\")}\n                      className=\"w-full bg-[#D8D8D8] text-[#6F6A77] text-base font-medium leading-normal rounded-[40px] md:py-[17px] py-[12px] px-[18px] md:px-[24px] focus:outline-none\"\n                    >\n                      <option value=\"\">Select Hair Length</option>\n                      <option value=\"short\">Short</option>\n                      <option value=\"medium\">Medium</option>\n                      <option value=\"long\">Long</option>\n                    </select>\n                    {/* @ts-ignore */}\n                    {errors.hairLength && (\n                      <p className=\"text-red-500\">\n                        {/* @ts-ignore */}\n                        {errors.hairLength.message}\n                      </p>\n                    )}\n                  </div>\n                </div>\n              </>\n            )}\n            {characterType !== undefined &&\n              characterType !== \"other\" &&\n              characterType !== \"human\" && (\n                <>\n                  <div className=\"mt-5\">\n                    <textarea\n                      {...register(\"breed\")}\n                      placeholder={`Provide breed of ${characterType}`}\n                      className=\"w-full md:col-span-2 bg-[#D8D8D8] text-[#6F6A77] text-base font-medium leading-normal rounded-[24px] md:py-[17px] py-[12px] px-[18px] md:px-[24px] focus:outline-none h-[100px] resize-none\"\n                    />\n                    {/* @ts-ignore */}\n                    {errors.breed && (\n                      <p className=\"text-red-500\">\n                        {/* @ts-ignore */}\n                        {errors.breed.message}\n                      </p>\n                    )}\n                  </div>\n                </>\n              )}\n\n            <div className=\"my-4\">\n              <textarea\n                rows={2}\n                {...register(\"characterAttributes\")}\n                placeholder=\"Describe your character attributes\"\n                className=\"w-full md:col-span-2 bg-[#D8D8D8] text-[#6F6A77] text-base font-medium leading-normal rounded-[24px] md:py-[17px] py-[12px] px-[18px] md:px-[24px] focus:outline-none h-[100px] resize-none\"\n              />\n              <p className=\"text-[#6F6A77] font-poppins text-[14px] !italic font-medium leading-normal mt-[8px] mb-0\">\n                Describe your character attributes above\n              </p>\n              {errors.characterAttributes && (\n                <p className=\"text-red-500\">\n                  {errors.characterAttributes.message}\n                </p>\n              )}\n            </div>\n            <h2 className=\"text-[#2B282F] font-sans text-[18px] md:text-[22px] font-normal leading-normal tracking-[-0.88px] candal-font mt-[24px] mb-[18px]\">\n              Character Image\n            </h2>\n            <div className=\"grid md:grid-cols-1 gap-[18px]\">\n              <div className=\"rounded-[24px] p-[24px] bg-[#fff] flex flex-col gap-[18px] items-center\">\n                <div className=\"w-[74px] h-[74px] full-round\">\n                  <SmartImage\n                    width={74}\n                    height={74}\n                    alt=\"icon\"\n                    src={\n                      characterImage != \"\"\n                        ? createBackendUrl(characterImage)\n                        : \"/assets/images/upload.svg\"\n                    }\n                    className=\"w-[74px] h-[74px] object-cover rounded-full\"\n                    onClick={handleUploadTrigger}\n                  />\n                </div>\n                <p className=\"text-[#6F6A77] text-center font-poppins text-[16px] !italic font-normal leading-[124%]\">\n                  Add an image and our AI will generate a character that looks\n                  like the reference image. Upload a clear photo for best\n                  results.\n                </p>\n                <p>\n                  Note: Your photo will only be used for Generating AI\n                  resemblance and will not be shared, stored, or misused in any\n                  way.\n                </p>\n                <button\n                  disabled={imageUploading}\n                  type=\"button\"\n                  onClick={handleUploadTrigger}\n                  className=\"flex items-center justify-center bg-[#2B1354] w-full p-[15px] text-[#fff] rounded-[40px] cursor-pointer text-[#EBEBEB] text-center font-poppins text-[16px] font-medium leading-normal\"\n                >\n                  {imageUploading ? <>\n                    <Image\n                      src=\"/assets/images/regenrate-simple.svg\"\n                      width={24}\n                      height={24}\n                      alt=\"icon\"\n                      className=\"animate-spin w-[24px] h-[24px] object-cover me-2\"\n                    />\n                    Uploading...\n                  </> : <>\n                    Upload an Image\n                  </>}\n                </button>\n              </div>\n            </div>\n            <input\n              onChange={handleFileChange}\n              type=\"file\"\n              ref={fileInputRef}\n              className=\"hidden\"\n            />\n            <button\n              type=\"submit\"\n              className=\"bg-[#C4CD24] mt-3 rounded-[40px] w-full py-[12px] md:py-[17px] mb-0 text-[#2B1354] text-center font-poppins text-base font-medium leading-normal cursor-pointer\"\n            >\n              Submit\n            </button>\n          </div>\n        )}\n      </form>\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1757, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1763, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/services/story-service.tsx"],"sourcesContent":["import { endpoint } from \"../config/endpoints\";\nimport { sendRequest } from \"./http-service\";\n\nexport const myStories = (params: any = {}) => {\n  return sendRequest(endpoint.story.LIST, \"GET\", params);\n};\n\nexport const getStory = (id: any, params: any = {}) => {\n  return sendRequest(endpoint.story.VIEW + \"/\" + id, \"GET\", params);\n};\n\nexport const createStory = (payload: any) => {\n  return sendRequest(endpoint.story.CREATE, \"POST\", payload);\n};\n\nexport const updateStory = (id: string, payload: any = {}) => {\n  return sendRequest(endpoint.story.UPDATE + \"/\" + id, \"POST\", payload);\n};\n\nexport const payForStory = (id: string, payload: any = {}) => {\n  return sendRequest(endpoint.story.PAY + \"/\" + id, \"POST\", payload);\n};\n\nexport const generateNewAIImage = (id: string, payload: any = {}) => {\n  return sendRequest(endpoint.story.IMAGE + \"/\" + id, \"POST\", payload);\n};\n\nexport const regenerateCharacter = (id: string, payload: any = {}) => {\n  return sendRequest(endpoint.story.CHARACTER + \"/\" + id, \"POST\", payload);\n};\nexport const updateCoverImage = (id: string, payload: any = {}) => {\n  return sendRequest(endpoint.story.UPDATE_COVER_IMAGE + \"/\" + id, \"POST\", payload);\n};\n\nexport const regenrateStory = (id: any, payload: any = {}) => {\n  return sendRequest(endpoint.story.REGENERATE + \"/\" + id, \"POST\", payload);\n};\n\nexport const regenrateStoryCover = (id: any, payload: any = {}) => {\n  return sendRequest(endpoint.story.REGENERATE_COVER + \"/\" + id, \"POST\", payload);\n};\n\nexport const fetchUserCharactersReq = (params: any = {}) => {\n  return sendRequest(endpoint.character.LIST, \"GET\", params);\n};\n\nexport const getStoryFrontCoverEditor = (id: any) => {\n  return sendRequest(endpoint.story.COVER_EDITOR + \"/\" + id, \"GET\");\n};\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AACA;;;AAEO,MAAM,YAAY,CAAC,SAAc,CAAC,CAAC;IACxC,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,OAAO;AACjD;AAEO,MAAM,WAAW,CAAC,IAAS,SAAc,CAAC,CAAC;IAChD,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,MAAM,IAAI,OAAO;AAC5D;AAEO,MAAM,cAAc,CAAC;IAC1B,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,MAAM,EAAE,QAAQ;AACpD;AAEO,MAAM,cAAc,CAAC,IAAY,UAAe,CAAC,CAAC;IACvD,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,IAAI,QAAQ;AAC/D;AAEO,MAAM,cAAc,CAAC,IAAY,UAAe,CAAC,CAAC;IACvD,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,IAAI,QAAQ;AAC5D;AAEO,MAAM,qBAAqB,CAAC,IAAY,UAAe,CAAC,CAAC;IAC9D,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,IAAI,QAAQ;AAC9D;AAEO,MAAM,sBAAsB,CAAC,IAAY,UAAe,CAAC,CAAC;IAC/D,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,IAAI,QAAQ;AAClE;AACO,MAAM,mBAAmB,CAAC,IAAY,UAAe,CAAC,CAAC;IAC5D,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,kBAAkB,GAAG,MAAM,IAAI,QAAQ;AAC3E;AAEO,MAAM,iBAAiB,CAAC,IAAS,UAAe,CAAC,CAAC;IACvD,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,UAAU,GAAG,MAAM,IAAI,QAAQ;AACnE;AAEO,MAAM,sBAAsB,CAAC,IAAS,UAAe,CAAC,CAAC;IAC5D,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,gBAAgB,GAAG,MAAM,IAAI,QAAQ;AACzE;AAEO,MAAM,yBAAyB,CAAC,SAAc,CAAC,CAAC;IACrD,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,OAAO;AACrD;AAEO,MAAM,2BAA2B,CAAC;IACvC,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,YAAY,GAAG,MAAM,IAAI;AAC7D","debugId":null}},
    {"offset": {"line": 1817, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1823, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/components/Story/StoryForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport AboutStory from \"./AboutStory\";\nimport CharacterForm from \"./CharacterForm\";\nimport { characterSchema, storySchema } from \"@/lib/validations\";\nimport { z } from \"zod\";\nimport { createStory, fetchUserCharactersReq, regenrateStory } from \"@/services/story-service\";\nimport toast from \"react-hot-toast\";\nimport { useRouter } from \"next/navigation\";\nimport Image from \"next/image\";\n\ntype CharacterFormData = z.infer<typeof characterSchema>;\ntype StoryFormData = z.infer<typeof storySchema>;\n\ntype StoryFormProps = {\n  story?: Story | undefined\n}\n\nexport default function StoryForm({ story = undefined }: StoryFormProps) {\n  const router = useRouter();\n\n  const [showCharacterForm, setShowCharacterForm] = useState<boolean>(false);\n  const [characters, setCharacters] = useState<CharacterFormData[]>([]);\n  const [originalCharacters, setOriginalCharacters] = useState<\n    CharacterFormData[]\n  >([]);\n  const [storyData, setStoryData] = useState<StoryFormData | undefined>(\n    undefined\n  );\n  const [character, setCharacter] = useState<CharacterFormData | undefined>(\n    undefined\n  );\n  const [selectedIndex, setSelectedIndex] = useState<number | null>(null);\n\n  const [creatingStory, setCreatingStory] = useState(false);\n  const [isEditMode, setIsEditMode] = useState(false);\n\n  useEffect(() => {\n    if (story) {\n      setIsEditMode(true);\n      setCharacters(story?.characters ?? []);\n    } else {\n      setIsEditMode(false);\n    }\n  }, [story]);\n\n  useEffect(() => {\n    fetchUserCharacters();\n  }, []);\n\n  const addCharacter = () => {\n    setShowCharacterForm(true);\n  };\n\n  const handleBack = () => {\n    setShowCharacterForm(false);\n  };\n\n  const handleCharacterSave = (character: CharacterFormData) => {\n    if (selectedIndex !== null && selectedIndex >= 0) {\n      setCharacters(\n        characters.map((char, index) =>\n          index === selectedIndex ? character : char\n        )\n      );\n    } else {\n      setCharacters([...characters, character]);\n    }\n    setShowCharacterForm(false);\n    setSelectedIndex(null);\n    setCharacter(undefined);\n  };\n\n  const handleCharacterRemove = (index: number) => {\n    setCharacters(characters.filter((_, i) => i !== index));\n  };\n\n  const handleCharacterSelect = (index: number) => {\n    setCharacter(characters[index]);\n    setSelectedIndex(index);\n    setShowCharacterForm(true);\n  };\n\n  const scrollToStoryCreateLoader = () => {\n    setTimeout(() => {\n      const storyCreateLoader = document.getElementById('storyCreateLoader');\n      if (storyCreateLoader) {\n        storyCreateLoader.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      }\n    }, 1000);\n  }\n\n  const handleStorySave = (data: StoryFormData, generate: boolean = false) => {\n    setStoryData(data);\n    if (generate) {\n\n      const storyPostData: any = {\n        ...data,\n        characters,\n      };\n      if (story?._id) {\n        storyPostData._id = story._id;\n      }\n\n      setCreatingStory(true);\n      scrollToStoryCreateLoader();\n\n      let request: any = createStory(storyPostData);\n\n      request.then((res: any) => {\n        router.push(`/my-stories/${res?.data?._id}`);\n      })\n        .catch((err: any) => {\n          toast.error(err?.message ?? \"Failed to create story\");\n          setCreatingStory(false);\n        });\n    }\n  };\n\n  const fetchUserCharacters = () => {\n    fetchUserCharactersReq()\n      .then((res: any) => {\n        setOriginalCharacters(res.data);\n      })\n      .catch((err) => {\n        toast.error(err?.message ?? \"Failed to fetch characters\");\n      });\n  };\n\n  return (\n    <>\n      <>\n\n        <div className={`story-create-loading ${creatingStory ? 'show' : ''}`} id=\"storyCreateLoader\">\n          <Image\n            src=\"/assets/images/regenrate-simple.svg\"\n            width={24}\n            height={24}\n            alt=\"icon\"\n            className={`animate-spin blackimg w-[24px] h-[24px] object-cover me-2`}\n          />\n          <span>Creating story, please wait...</span>\n        </div>\n\n        {showCharacterForm ? (\n          <CharacterForm\n            character={character}\n            handleSave={handleCharacterSave}\n            handleBack={handleBack}\n            characters={characters}\n            originalCharacters={originalCharacters}\n            isEdit={isEditMode}\n          />\n        ) : (\n          <AboutStory\n            creatingStory={creatingStory}\n            storyData={storyData}\n            onSave={handleStorySave}\n            addCharacter={addCharacter}\n            onRemoveCharacter={handleCharacterRemove}\n            onSelectCharacter={handleCharacterSelect}\n            characters={characters}\n            isEdit={isEditMode}\n            story={story}\n          />\n        )}\n      </>\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1993, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}
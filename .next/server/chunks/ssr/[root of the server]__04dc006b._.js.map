{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/config/constants.tsx"],"sourcesContent":["export const FONT_FAMILIES = [\"Caveat\", \"Candal\", \"Poppins\"];\nexport const FONT_SIZES = [\"14px\", \"16px\", \"18px\", \"20px\", \"24px\", \"32px\", \"36px\", \"42px\", \"50px\", \"62px\", \"80px\"];\n\nexport const REVIEWS = [\n    {\n        name: \"Abbie N.\",\n        rating: 5,\n        review: `We received our book and it's absolutely amazing I was blown away away with how brilliant the Illustration and how much the characters looked like my son, it was so special to see my son looking at him self in a book full of his favourite things.\nDefinitely will recommend.`,\n        reviewDate: \"17/03/2025\",\n        verified: true,\n        images: [\n            \"https://images.loox.io/uploads/2025/3/23/sl8jOYgaM_mid.jpg\",\n            \"https://images.loox.io/uploads/2025/3/23/gkaT8cpt-_mid.jpg\",\n            \"https://images.loox.io/uploads/2025/3/23/eLbYbDpNs_mid.jpg\"\n        ]\n    },\n    {\n        name: \"Lauren W.\",\n        rating: 5,\n        review: `What an absolutely beautiful book! So magical and a lovely keepsake. We love the clear bold writing too and colourful pictures!`,\n        reviewDate: \"05/03/2025\",\n        verified: true,\n        images: [\n            \"https://images.loox.io/uploads/2025/3/4/H7DtrsavW_mid.jpg\"\n        ]\n    },\n    {\n        name: \"Laura D.\",\n        rating: 5,\n        review: `Thank you so much for creating this beautiful personalised book for my daughter. The stories and the illustrations are just perfect. It's my daughters new favourite book`,\n        reviewDate: \"11/02/2025\",\n        verified: true,\n        images: [\n            \"https://images.loox.io/uploads/2025/2/11/IzJwTvjxH_mid.jpg\"\n        ]\n    },\n    {\n        name: \"Rebecca P.\",\n        rating: 5,\n        review: `We love this book! The attention to detail in the graphics is second to none, and I can’t believe how much they have made the little girl look so much like my little girl, I am beyond happy with this product, is magical x`,\n        reviewDate: \"05/12/2024\",\n        verified: false,\n        images: [\n            \"https://images.loox.io/uploads/2024/12/5/MFpqC1n-t_mid.jpg\",\n            \"https://images.loox.io/uploads/2024/12/5/ZFB-v_8V2_mid.jpg\",\n            \"https://images.loox.io/uploads/2024/12/5/sMVSOL0-i_mid.jpg\"\n        ]\n    },\n    {\n        name: \"Shanice W.\",\n        rating: 5,\n        review: `Amazing illustrations and story telling !`,\n        reviewDate: \"20/12/2024\",\n        verified: true,\n        images: []\n    },\n    {\n        name: \"Tefta G.\",\n        rating: 5,\n        review: `It is very beautiful working with you`,\n        reviewDate: \"02/04/2025\",\n        verified: true,\n        images: []\n    },\n    {\n        name: \"Simone O.\",\n        rating: 5,\n        review: `Super cute book. \nSome pages could be better designed, however overall it's a great personalized book.`,\n        reviewDate: \"26/03/2025\",\n        verified: true,\n        images: []\n    },\n    {\n        name: \"Nicola J.\",\n        rating: 5,\n        review: `We couldn't be happier! Thank you so much for our beautiful book!`,\n        reviewDate: \"13/05/2025\",\n        verified: true,\n        images: []\n    },\n    {\n        name: \"Jacinta B.\",\n        rating: 5,\n        review: `This is one of the sweetest books I've ever seen . This book makes the sweetest keep sake and would make such an incredible gift`,\n        reviewDate: \"22/11/2024\",\n        verified: true,\n        images: []\n    }\n];"],"names":[],"mappings":";;;;;AAAO,MAAM,gBAAgB;IAAC;IAAU;IAAU;CAAU;AACrD,MAAM,aAAa;IAAC;IAAQ;IAAQ;IAAQ;IAAQ;IAAQ;IAAQ;IAAQ;IAAQ;IAAQ;IAAQ;CAAO;AAE3G,MAAM,UAAU;IACnB;QACI,MAAM;QACN,QAAQ;QACR,QAAQ,CAAC;0BACS,CAAC;QACnB,YAAY;QACZ,UAAU;QACV,QAAQ;YACJ;YACA;YACA;SACH;IACL;IACA;QACI,MAAM;QACN,QAAQ;QACR,QAAQ,CAAC,+HAA+H,CAAC;QACzI,YAAY;QACZ,UAAU;QACV,QAAQ;YACJ;SACH;IACL;IACA;QACI,MAAM;QACN,QAAQ;QACR,QAAQ,CAAC,yKAAyK,CAAC;QACnL,YAAY;QACZ,UAAU;QACV,QAAQ;YACJ;SACH;IACL;IACA;QACI,MAAM;QACN,QAAQ;QACR,QAAQ,CAAC,6NAA6N,CAAC;QACvO,YAAY;QACZ,UAAU;QACV,QAAQ;YACJ;YACA;YACA;SACH;IACL;IACA;QACI,MAAM;QACN,QAAQ;QACR,QAAQ,CAAC,yCAAyC,CAAC;QACnD,YAAY;QACZ,UAAU;QACV,QAAQ,EAAE;IACd;IACA;QACI,MAAM;QACN,QAAQ;QACR,QAAQ,CAAC,qCAAqC,CAAC;QAC/C,YAAY;QACZ,UAAU;QACV,QAAQ,EAAE;IACd;IACA;QACI,MAAM;QACN,QAAQ;QACR,QAAQ,CAAC;oFACmE,CAAC;QAC7E,YAAY;QACZ,UAAU;QACV,QAAQ,EAAE;IACd;IACA;QACI,MAAM;QACN,QAAQ;QACR,QAAQ,CAAC,iEAAiE,CAAC;QAC3E,YAAY;QACZ,UAAU;QACV,QAAQ,EAAE;IACd;IACA;QACI,MAAM;QACN,QAAQ;QACR,QAAQ,CAAC,gIAAgI,CAAC;QAC1I,YAAY;QACZ,UAAU;QACV,QAAQ,EAAE;IACd;CACH","debugId":null}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/components/image-editor/ImageEditor.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  forwardRef,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport { fabric } from \"fabric\";\nimport { uploadMedia } from \"@/services/user-service\";\nimport toast from \"react-hot-toast\";\nimport { FONT_FAMILIES, FONT_SIZES } from \"@/config/constants\";\nimport { BiTrash } from \"react-icons/bi\";\nimport Image from \"next/image\";\n\nfunction ImageEditor(props: any, ref: any) {\n\n  const { image, annotationsJSON, handleCancel, handleSave } = props;\n\n  const canvasEl = useRef<HTMLCanvasElement | null>(null);\n  const [canvas, setCanvas] = useState<fabric.Canvas | null>(null);\n\n  const [fontColor, setFontColor] = useState(\"#2B1354\");\n  const [fontSize, setFontSize] = useState(32);\n  const [fontWeight, setFontWeight] = useState(\"normal\");\n  const [fontStyle, setFontStyle] = useState<\"\" | \"normal\" | \"italic\" | \"oblique\" | undefined>(\"normal\");\n  const [underline, setUnderline] = useState(false);\n  const [fontFamily, setFontFamily] = useState(\"Caveat\");\n  const [isDrawing, setIsDrawing] = useState(false);\n\n  const [saveLoading, setSaveLoading] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  const [originalWidth, setOriginalWidth] = useState(550);\n  const [originalHeight, setOriginalHeight] = useState(550);\n\n  useEffect(() => {\n    if (!canvasEl.current) return;\n\n    const c = new fabric.Canvas(canvasEl.current);\n\n    fabric.Image.fromURL(\n      image,\n      (img) => {\n        setOriginalWidth(img.width || 0);\n        setOriginalHeight(img.height || 0);\n\n        img.scaleToWidth(550);\n\n        const imgWidth = 550;\n        const imgHeight = 550;\n\n        c.setWidth(imgWidth);\n        c.setHeight(imgHeight);\n\n        c.setBackgroundImage(img, () => {\n          if (annotationsJSON) {\n            c.loadFromJSON(annotationsJSON, c.renderAll.bind(c));\n          } else {\n            c.renderAll();\n          }\n          setLoading(false); // Image loaded\n        });\n\n        c.isDrawingMode = isDrawing;\n        c.freeDrawingBrush.width = 3;\n        c.freeDrawingBrush.color = \"red\";\n\n        c.on(\"object:selected\", (e) => {\n          if (e.target) e.target.bringToFront();\n        });\n\n        setCanvas(c);\n      },\n      { crossOrigin: \"anonymous\" }\n    );\n\n    return () => {\n      c.dispose();\n    };\n  }, [image, annotationsJSON]);\n\n  useEffect(() => {\n    if (canvas) {\n      const active = canvas.getActiveObject();\n      if (active && active.type === \"i-text\" && active instanceof fabric.Text) {\n        active.set({\n          fill: fontColor,\n          fontSize,\n          fontWeight,\n          fontStyle,\n          underline,\n          fontFamily,\n        });\n        canvas.renderAll();\n      }\n    }\n  }, [fontColor, fontSize, fontWeight, fontStyle, underline, fontFamily]);\n\n  const addText = () => {\n    if (!canvas) return;\n    canvas.isDrawingMode = false;\n    setIsDrawing(false);\n\n    const text = new fabric.IText(\"Type your text\", {\n      left: 150,\n      top: 100,\n      fontSize,\n      fill: fontColor,\n      fontWeight,\n      fontStyle,\n      underline,\n      fontFamily,\n    });\n\n    canvas.add(text);\n    canvas.setActiveObject(text);\n    canvas.renderAll();\n  };\n\n  const deleteSelectedElement = () => {\n    if (canvas) {\n      const activeObject = canvas.getActiveObject();\n      if (activeObject) {\n        canvas.remove(activeObject);\n        canvas.renderAll();\n      } else {\n        toast.error(\"No object selected to delete\");\n      }\n    }\n  };\n\n  const onSave = async () => {\n    if (!canvas || originalWidth === 0 || originalHeight === 0) return;\n\n    setSaveLoading(true);\n\n    //store scales\n    const scaleX = originalWidth / canvas.getWidth();\n    const scaleY = originalHeight / canvas.getHeight();\n\n    // Step 1: Clone annotations from current canvas (low-res)\n    const annotationObjects = canvas.getObjects().filter((obj: any) => {\n      return obj.type !== 'image';\n    });\n\n    // Step 2: Create a new temporary high-res canvas\n    const tempCanvas = new fabric.Canvas(null, {\n      width: originalWidth,\n      height: originalHeight,\n    });\n\n    // Step 3: Load full-resolution image into tempCanvas\n    fabric.Image.fromURL(image, (fullImage) => {\n      fullImage.scaleToWidth(originalWidth);\n      tempCanvas.setBackgroundImage(fullImage, () => {\n\n        // Step 4: Add annotations, scaled properly\n        annotationObjects.forEach(obj => {\n          const cloned = fabric.util.object.clone(obj);\n\n          // Scale annotation position and size to match full-res\n          cloned.left = (obj.left || 0) * scaleX;\n          cloned.top = (obj.top || 0) * scaleY;\n          cloned.scaleX = (obj.scaleX || 1) * scaleX;\n          cloned.scaleY = (obj.scaleY || 1) * scaleY;\n          cloned.setCoords();\n\n          tempCanvas.add(cloned);\n        });\n\n        tempCanvas.renderAll();\n\n        // Step 5: Export high-res image\n        const dataUrl = tempCanvas.toDataURL({ format: \"png\" });\n\n        fetch(dataUrl)\n          .then(res => res.blob())\n          .then(async (blob) => {\n            const file = new File([blob], \"edited-image.png\", { type: \"image/png\" });\n\n            const formData = new FormData();\n            formData.append(\"file\", file);\n\n            const response: any = await uploadMedia(formData);\n            if (response && response?.data?.url) {\n              handleSave(response.data.url);\n            } else {\n              toast.error(response?.message ?? \"Failed to save image\");\n            }\n          })\n          .catch(console.error)\n          .finally(() => {\n            setSaveLoading(false);\n            tempCanvas.dispose();\n          });\n      });\n    }, { crossOrigin: \"anonymous\" });\n  };\n\n  const toggleFontWeight = () => {\n    setFontWeight((prev) => (prev === \"bold\" ? \"normal\" : \"bold\"));\n  };\n\n  const toggleFontStyle = () => {\n    setFontStyle((prev) => (prev === \"italic\" ? \"normal\" : \"italic\"));\n  };\n\n  const toggleUnderline = () => {\n    setUnderline((prev) => !prev);\n  };\n\n  const addBubbleFromURL = (svgUrl: string) => {\n    if (canvas) {\n      fabric.loadSVGFromURL(svgUrl, (objects, options) => {\n        const group = fabric.util.groupSVGElements(objects, options);\n        group.set({\n          left: 300,\n          top: 200,\n          selectable: true,\n          hasControls: true,\n          hasBorders: true,\n          cornerStyle: \"circle\",\n          transparentCorners: false,\n        });\n\n        group.scaleToWidth(200);\n        canvas.add(group);\n        canvas.setActiveObject(group);\n        canvas.renderAll();\n      });\n    }\n  };\n\n  return (\n    <div className=\"canvas-area relative\">\n      {loading && (\n        <div className=\"canvas-loading\">\n          <div className=\"smart-image-spinner\" />\n          <span>Please wait... <br/>loading image for editing</span>\n        </div>\n      )}\n\n      {saveLoading && (\n        <div className=\"canvas-loading\">\n          <div className=\"smart-image-spinner\" />\n          <span>Please wait... <br/>saving your new image</span>\n        </div>\n      )}\n\n      <div className=\"mb-4 space-x-4 clipart-toolbar-main w-full z-10\">\n        <div className=\"flex items-center gap-[18px] mb-3\">\n          <div className=\"gap-4 clipart-toolbar rounded-full px-4 py-2 flex-1\">\n            {[1, 2, 3, 4].map((i) => (\n              <img\n                key={i}\n                src={`/assets/images/bubble${i}.svg`}\n                alt={`Bubble ${i}`}\n                className=\"w-8 h-8 cursor-pointer\"\n                onClick={() => addBubbleFromURL(`/assets/images/bubble${i}.svg`)}\n              />\n            ))}\n            <div className=\"flex items-center gap-2\">\n              <button\n                onClick={addText}\n                className=\"px-4 py-2 bg-[#2B1354] text-white rounded-full cursor-pointer\"\n              >\n                Add Text\n              </button>\n              <button\n                disabled={saveLoading}\n                onClick={onSave}\n                className=\"px-4 py-2 bg-[#C4CD24] text-white rounded-full cursor-pointer\"\n              >\n                {saveLoading ? <>\n                  <Image\n                    src=\"/assets/images/regenrate-simple.svg\"\n                    width={24}\n                    height={24}\n                    alt=\"icon\"\n                    className=\"animate-spin w-[24px] h-[24px] blackimg object-cover\"\n                  />\n                </> : 'Save'}\n              </button>\n              <button\n                className=\"px-4 py-2 bg-[#ff0000] text-white rounded-full cursor-pointer\"\n                onClick={handleCancel}\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"image-text-menu-topbar\">\n        <div className=\"gap-2 rounded-full px-4 py-2 flex-1 image-text-menu-topbar-menu\">\n          <select\n            value={fontFamily}\n            onChange={(e) => setFontFamily(e.target.value)}\n            className=\"cursor-pointer rounded-[24px] bg-[#E1E1E1] px-3 py-1\"\n          >\n            {FONT_FAMILIES.map((font) => (\n              <option key={font} value={font}>{font}</option>\n            ))}\n          </select>\n\n          <select\n            onChange={(e) => setFontSize(parseInt(e.target.value))}\n            className=\"border px-2 py-1 rounded-full\"\n            defaultValue=\"16px\"\n          >\n            {FONT_SIZES.map(size => (\n              <option key={size} value={size}>{size}</option>\n            ))}\n          </select>\n\n          <button\n            onClick={toggleFontWeight}\n            className={`cursor-pointer font-bold px-2 py-1 ${fontWeight === \"bold\" ? \"bg-black text-white\" : \"bg-gray-200\"}`}\n          >\n            B\n          </button>\n          <button\n            onClick={toggleFontStyle}\n            className={`cursor-pointer font-bold px-2 py-1 italic ${fontStyle === \"italic\" ? \"bg-black text-white\" : \"bg-gray-200\"}`}\n          >\n            I\n          </button>\n          <button\n            onClick={toggleUnderline}\n            className={`cursor-pointer font-bold px-2 py-1 underline ${underline ? \"bg-black text-white\" : \"bg-gray-200\"}`}\n          >\n            U\n          </button>\n          <label className=\"rounded-full overflow-hidden h-[30px] w-[30px] flex items-center justify-center relative\">\n            <input\n              type=\"color\"\n              value={fontColor}\n              onChange={(e) => setFontColor(e.target.value)}\n              className=\"cursor-pointer rounded-full h-[60px] w-[60px] absolute z-0\"\n            />\n          </label>\n          <button\n            className=\"px-4 py-2 delete-toolbar-btn text-white rounded-full cursor-pointer\"\n            onClick={deleteSelectedElement}\n          >\n            <BiTrash />\n          </button>\n        </div>\n      </div>\n\n      <canvas ref={canvasEl} className=\"border border-gray-400\" />\n    </div>\n  );\n}\n\nexport default forwardRef(ImageEditor);\n"],"names":[],"mappings":";;;;AAEA;AAMA;AACA;AACA;AACA;AACA;AACA;AAbA;;;;;;;;;AAeA,SAAS,YAAY,KAAU,EAAE,GAAQ;IAEvC,MAAM,EAAE,KAAK,EAAE,eAAe,EAAE,YAAY,EAAE,UAAU,EAAE,GAAG;IAE7D,MAAM,WAAW,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAA4B;IAClD,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAwB;IAE3D,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAoD;IAC7F,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAErD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,SAAS,OAAO,EAAE;QAEvB,MAAM,IAAI,IAAI,wIAAA,CAAA,SAAM,CAAC,MAAM,CAAC,SAAS,OAAO;QAE5C,wIAAA,CAAA,SAAM,CAAC,KAAK,CAAC,OAAO,CAClB,OACA,CAAC;YACC,iBAAiB,IAAI,KAAK,IAAI;YAC9B,kBAAkB,IAAI,MAAM,IAAI;YAEhC,IAAI,YAAY,CAAC;YAEjB,MAAM,WAAW;YACjB,MAAM,YAAY;YAElB,EAAE,QAAQ,CAAC;YACX,EAAE,SAAS,CAAC;YAEZ,EAAE,kBAAkB,CAAC,KAAK;gBACxB,IAAI,iBAAiB;oBACnB,EAAE,YAAY,CAAC,iBAAiB,EAAE,SAAS,CAAC,IAAI,CAAC;gBACnD,OAAO;oBACL,EAAE,SAAS;gBACb;gBACA,WAAW,QAAQ,eAAe;YACpC;YAEA,EAAE,aAAa,GAAG;YAClB,EAAE,gBAAgB,CAAC,KAAK,GAAG;YAC3B,EAAE,gBAAgB,CAAC,KAAK,GAAG;YAE3B,EAAE,EAAE,CAAC,mBAAmB,CAAC;gBACvB,IAAI,EAAE,MAAM,EAAE,EAAE,MAAM,CAAC,YAAY;YACrC;YAEA,UAAU;QACZ,GACA;YAAE,aAAa;QAAY;QAG7B,OAAO;YACL,EAAE,OAAO;QACX;IACF,GAAG;QAAC;QAAO;KAAgB;IAE3B,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,QAAQ;YACV,MAAM,SAAS,OAAO,eAAe;YACrC,IAAI,UAAU,OAAO,IAAI,KAAK,YAAY,kBAAkB,wIAAA,CAAA,SAAM,CAAC,IAAI,EAAE;gBACvE,OAAO,GAAG,CAAC;oBACT,MAAM;oBACN;oBACA;oBACA;oBACA;oBACA;gBACF;gBACA,OAAO,SAAS;YAClB;QACF;IACF,GAAG;QAAC;QAAW;QAAU;QAAY;QAAW;QAAW;KAAW;IAEtE,MAAM,UAAU;QACd,IAAI,CAAC,QAAQ;QACb,OAAO,aAAa,GAAG;QACvB,aAAa;QAEb,MAAM,OAAO,IAAI,wIAAA,CAAA,SAAM,CAAC,KAAK,CAAC,kBAAkB;YAC9C,MAAM;YACN,KAAK;YACL;YACA,MAAM;YACN;YACA;YACA;YACA;QACF;QAEA,OAAO,GAAG,CAAC;QACX,OAAO,eAAe,CAAC;QACvB,OAAO,SAAS;IAClB;IAEA,MAAM,wBAAwB;QAC5B,IAAI,QAAQ;YACV,MAAM,eAAe,OAAO,eAAe;YAC3C,IAAI,cAAc;gBAChB,OAAO,MAAM,CAAC;gBACd,OAAO,SAAS;YAClB,OAAO;gBACL,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;YACd;QACF;IACF;IAEA,MAAM,SAAS;QACb,IAAI,CAAC,UAAU,kBAAkB,KAAK,mBAAmB,GAAG;QAE5D,eAAe;QAEf,cAAc;QACd,MAAM,SAAS,gBAAgB,OAAO,QAAQ;QAC9C,MAAM,SAAS,iBAAiB,OAAO,SAAS;QAEhD,0DAA0D;QAC1D,MAAM,oBAAoB,OAAO,UAAU,GAAG,MAAM,CAAC,CAAC;YACpD,OAAO,IAAI,IAAI,KAAK;QACtB;QAEA,iDAAiD;QACjD,MAAM,aAAa,IAAI,wIAAA,CAAA,SAAM,CAAC,MAAM,CAAC,MAAM;YACzC,OAAO;YACP,QAAQ;QACV;QAEA,qDAAqD;QACrD,wIAAA,CAAA,SAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC;YAC3B,UAAU,YAAY,CAAC;YACvB,WAAW,kBAAkB,CAAC,WAAW;gBAEvC,2CAA2C;gBAC3C,kBAAkB,OAAO,CAAC,CAAA;oBACxB,MAAM,SAAS,wIAAA,CAAA,SAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;oBAExC,uDAAuD;oBACvD,OAAO,IAAI,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI;oBAChC,OAAO,GAAG,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI;oBAC9B,OAAO,MAAM,GAAG,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI;oBACpC,OAAO,MAAM,GAAG,CAAC,IAAI,MAAM,IAAI,CAAC,IAAI;oBACpC,OAAO,SAAS;oBAEhB,WAAW,GAAG,CAAC;gBACjB;gBAEA,WAAW,SAAS;gBAEpB,gCAAgC;gBAChC,MAAM,UAAU,WAAW,SAAS,CAAC;oBAAE,QAAQ;gBAAM;gBAErD,MAAM,SACH,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI,IACpB,IAAI,CAAC,OAAO;oBACX,MAAM,OAAO,IAAI,KAAK;wBAAC;qBAAK,EAAE,oBAAoB;wBAAE,MAAM;oBAAY;oBAEtE,MAAM,WAAW,IAAI;oBACrB,SAAS,MAAM,CAAC,QAAQ;oBAExB,MAAM,WAAgB,MAAM,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE;oBACxC,IAAI,YAAY,UAAU,MAAM,KAAK;wBACnC,WAAW,SAAS,IAAI,CAAC,GAAG;oBAC9B,OAAO;wBACL,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,UAAU,WAAW;oBACnC;gBACF,GACC,KAAK,CAAC,QAAQ,KAAK,EACnB,OAAO,CAAC;oBACP,eAAe;oBACf,WAAW,OAAO;gBACpB;YACJ;QACF,GAAG;YAAE,aAAa;QAAY;IAChC;IAEA,MAAM,mBAAmB;QACvB,cAAc,CAAC,OAAU,SAAS,SAAS,WAAW;IACxD;IAEA,MAAM,kBAAkB;QACtB,aAAa,CAAC,OAAU,SAAS,WAAW,WAAW;IACzD;IAEA,MAAM,kBAAkB;QACtB,aAAa,CAAC,OAAS,CAAC;IAC1B;IAEA,MAAM,mBAAmB,CAAC;QACxB,IAAI,QAAQ;YACV,wIAAA,CAAA,SAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,SAAS;gBACtC,MAAM,QAAQ,wIAAA,CAAA,SAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,SAAS;gBACpD,MAAM,GAAG,CAAC;oBACR,MAAM;oBACN,KAAK;oBACL,YAAY;oBACZ,aAAa;oBACb,YAAY;oBACZ,aAAa;oBACb,oBAAoB;gBACtB;gBAEA,MAAM,YAAY,CAAC;gBACnB,OAAO,GAAG,CAAC;gBACX,OAAO,eAAe,CAAC;gBACvB,OAAO,SAAS;YAClB;QACF;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;YACZ,yBACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;;4BAAK;0CAAe,8OAAC;;;;;4BAAI;;;;;;;;;;;;;YAI7B,6BACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;;4BAAK;0CAAe,8OAAC;;;;;4BAAI;;;;;;;;;;;;;0BAI9B,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;4BACZ;gCAAC;gCAAG;gCAAG;gCAAG;6BAAE,CAAC,GAAG,CAAC,CAAC,kBACjB,8OAAC;oCAEC,KAAK,CAAC,qBAAqB,EAAE,EAAE,IAAI,CAAC;oCACpC,KAAK,CAAC,OAAO,EAAE,GAAG;oCAClB,WAAU;oCACV,SAAS,IAAM,iBAAiB,CAAC,qBAAqB,EAAE,EAAE,IAAI,CAAC;mCAJ1D;;;;;0CAOT,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,SAAS;wCACT,WAAU;kDACX;;;;;;kDAGD,8OAAC;wCACC,UAAU;wCACV,SAAS;wCACT,WAAU;kDAET,4BAAc;sDACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;gDACJ,KAAI;gDACJ,OAAO;gDACP,QAAQ;gDACR,KAAI;gDACJ,WAAU;;;;;;4DAER;;;;;;kDAER,8OAAC;wCACC,WAAU;wCACV,SAAS;kDACV;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQT,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,OAAO;4BACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;4BAC7C,WAAU;sCAET,oHAAA,CAAA,gBAAa,CAAC,GAAG,CAAC,CAAC,qBAClB,8OAAC;oCAAkB,OAAO;8CAAO;mCAApB;;;;;;;;;;sCAIjB,8OAAC;4BACC,UAAU,CAAC,IAAM,YAAY,SAAS,EAAE,MAAM,CAAC,KAAK;4BACpD,WAAU;4BACV,cAAa;sCAEZ,oHAAA,CAAA,aAAU,CAAC,GAAG,CAAC,CAAA,qBACd,8OAAC;oCAAkB,OAAO;8CAAO;mCAApB;;;;;;;;;;sCAIjB,8OAAC;4BACC,SAAS;4BACT,WAAW,CAAC,mCAAmC,EAAE,eAAe,SAAS,wBAAwB,eAAe;sCACjH;;;;;;sCAGD,8OAAC;4BACC,SAAS;4BACT,WAAW,CAAC,0CAA0C,EAAE,cAAc,WAAW,wBAAwB,eAAe;sCACzH;;;;;;sCAGD,8OAAC;4BACC,SAAS;4BACT,WAAW,CAAC,6CAA6C,EAAE,YAAY,wBAAwB,eAAe;sCAC/G;;;;;;sCAGD,8OAAC;4BAAM,WAAU;sCACf,cAAA,8OAAC;gCACC,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;gCAC5C,WAAU;;;;;;;;;;;sCAGd,8OAAC;4BACC,WAAU;4BACV,SAAS;sCAET,cAAA,8OAAC,8IAAA,CAAA,UAAO;;;;;;;;;;;;;;;;;;;;;0BAKd,8OAAC;gBAAO,KAAK;gBAAU,WAAU;;;;;;;;;;;;AAGvC;qDAEe,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE","debugId":null}},
    {"offset": {"line": 633, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 639, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/services/story-service.tsx"],"sourcesContent":["import { endpoint } from \"../config/endpoints\";\nimport { sendRequest } from \"./http-service\";\n\nexport const myStories = (params: any = {}) => {\n  return sendRequest(endpoint.story.LIST, \"GET\", params);\n};\n\nexport const getStory = (id: any, params: any = {}) => {\n  return sendRequest(endpoint.story.VIEW + \"/\" + id, \"GET\", params);\n};\n\nexport const createStory = (payload: any) => {\n  return sendRequest(endpoint.story.CREATE, \"POST\", payload);\n};\n\nexport const updateStory = (id: string, payload: any = {}) => {\n  return sendRequest(endpoint.story.UPDATE + \"/\" + id, \"POST\", payload);\n};\n\nexport const payForStory = (id: string, payload: any = {}) => {\n  return sendRequest(endpoint.story.PAY + \"/\" + id, \"POST\", payload);\n};\n\nexport const generateNewAIImage = (id: string, payload: any = {}) => {\n  return sendRequest(endpoint.story.IMAGE + \"/\" + id, \"POST\", payload);\n};\n\nexport const regenerateCharacter = (id: string, payload: any = {}) => {\n  return sendRequest(endpoint.story.CHARACTER + \"/\" + id, \"POST\", payload);\n};\nexport const updateCoverImage = (id: string, payload: any = {}) => {\n  return sendRequest(endpoint.story.UPDATE_COVER_IMAGE + \"/\" + id, \"POST\", payload);\n};\n\nexport const regenrateStory = (id: any, payload: any = {}) => {\n  return sendRequest(endpoint.story.REGENERATE + \"/\" + id, \"POST\", payload);\n};\n\nexport const regenrateStoryCover = (id: any, payload: any = {}) => {\n  return sendRequest(endpoint.story.REGENERATE_COVER + \"/\" + id, \"POST\", payload);\n};\n\nexport const fetchUserCharactersReq = (params: any = {}) => {\n  return sendRequest(endpoint.character.LIST, \"GET\", params);\n};\n\nexport const getStoryFrontCoverEditor = (id: any) => {\n  return sendRequest(endpoint.story.COVER_EDITOR + \"/\" + id, \"GET\");\n};\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AACA;;;AAEO,MAAM,YAAY,CAAC,SAAc,CAAC,CAAC;IACxC,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,OAAO;AACjD;AAEO,MAAM,WAAW,CAAC,IAAS,SAAc,CAAC,CAAC;IAChD,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,MAAM,IAAI,OAAO;AAC5D;AAEO,MAAM,cAAc,CAAC;IAC1B,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,MAAM,EAAE,QAAQ;AACpD;AAEO,MAAM,cAAc,CAAC,IAAY,UAAe,CAAC,CAAC;IACvD,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,IAAI,QAAQ;AAC/D;AAEO,MAAM,cAAc,CAAC,IAAY,UAAe,CAAC,CAAC;IACvD,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,IAAI,QAAQ;AAC5D;AAEO,MAAM,qBAAqB,CAAC,IAAY,UAAe,CAAC,CAAC;IAC9D,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,IAAI,QAAQ;AAC9D;AAEO,MAAM,sBAAsB,CAAC,IAAY,UAAe,CAAC,CAAC;IAC/D,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,IAAI,QAAQ;AAClE;AACO,MAAM,mBAAmB,CAAC,IAAY,UAAe,CAAC,CAAC;IAC5D,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,kBAAkB,GAAG,MAAM,IAAI,QAAQ;AAC3E;AAEO,MAAM,iBAAiB,CAAC,IAAS,UAAe,CAAC,CAAC;IACvD,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,UAAU,GAAG,MAAM,IAAI,QAAQ;AACnE;AAEO,MAAM,sBAAsB,CAAC,IAAS,UAAe,CAAC,CAAC;IAC5D,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,gBAAgB,GAAG,MAAM,IAAI,QAAQ;AACzE;AAEO,MAAM,yBAAyB,CAAC,SAAc,CAAC,CAAC;IACrD,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,OAAO;AACrD;AAEO,MAAM,2BAA2B,CAAC;IACvC,OAAO,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,oHAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,YAAY,GAAG,MAAM,IAAI;AAC7D","debugId":null}},
    {"offset": {"line": 693, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 699, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/components/Common/SmartImage.tsx"],"sourcesContent":["'use client';\n\nimport Image from 'next/image';\nimport { useEffect, useState } from 'react';\n\ninterface SmartImageProps {\n    src: string;\n    alt: string;\n    className?: string;\n    width?: number;\n    height?: number;\n    onClick?: () => void; // <-- optional now\n}\n\nexport default function SmartImage({\n    src,\n    alt,\n    className = '',\n    width = undefined,\n    height = undefined,\n    ...props\n}: SmartImageProps) {\n\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(false);\n    const [useFallback, setUseFallback] = useState(false);\n\n    const handleLoad = () => {\n        setLoading(false);\n    };\n\n    const handleImageError = () => {\n        setUseFallback(true);\n    };\n\n    const handleFallbackError = () => {\n        setLoading(false);\n        setError(true);\n    };\n\n    useEffect(() => {\n        setLoading(true);\n        setError(false);\n        setUseFallback(false);\n    }, [src]);\n\n    return (\n        <div className=\"smart-image-wrapper\">\n            {loading && !error && (\n                <div className=\"smart-image-loader\">\n                    <div className=\"smart-image-spinner\" />\n                </div>\n            )}\n            {error ? (\n                <div className=\"smart-image-error\">Failed to load image</div>\n            ) : (\n                <>\n                    {!useFallback && width ? (\n                        <Image\n                            width={width}\n                            height={height}\n                            src={src}\n                            alt={alt}\n                            onLoad={handleLoad}\n                            onError={handleImageError}\n                            className={`smart-image ${loading ? 'loading' : 'loaded'} ${className}`}\n                            {...props}\n                        />\n                    ) : (\n                        <img\n                            src={src}\n                            alt={alt}\n                            width={width}\n                            height={height}\n                            onLoad={handleLoad}\n                            onError={handleFallbackError}\n                            className={`smart-image ${loading ? 'loading' : 'loaded'} ${className}`}\n                            {...props}\n                        />\n                    )}\n                </>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAce,SAAS,WAAW,EAC/B,GAAG,EACH,GAAG,EACH,YAAY,EAAE,EACd,QAAQ,SAAS,EACjB,SAAS,SAAS,EAClB,GAAG,OACW;IAEd,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,MAAM,aAAa;QACf,WAAW;IACf;IAEA,MAAM,mBAAmB;QACrB,eAAe;IACnB;IAEA,MAAM,sBAAsB;QACxB,WAAW;QACX,SAAS;IACb;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,WAAW;QACX,SAAS;QACT,eAAe;IACnB,GAAG;QAAC;KAAI;IAER,qBACI,8OAAC;QAAI,WAAU;;YACV,WAAW,CAAC,uBACT,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAI,WAAU;;;;;;;;;;;YAGtB,sBACG,8OAAC;gBAAI,WAAU;0BAAoB;;;;;qCAEnC;0BACK,CAAC,eAAe,sBACb,8OAAC,6HAAA,CAAA,UAAK;oBACF,OAAO;oBACP,QAAQ;oBACR,KAAK;oBACL,KAAK;oBACL,QAAQ;oBACR,SAAS;oBACT,WAAW,CAAC,YAAY,EAAE,UAAU,YAAY,SAAS,CAAC,EAAE,WAAW;oBACtE,GAAG,KAAK;;;;;yCAGb,8OAAC;oBACG,KAAK;oBACL,KAAK;oBACL,OAAO;oBACP,QAAQ;oBACR,QAAQ;oBACR,SAAS;oBACT,WAAW,CAAC,YAAY,EAAE,UAAU,YAAY,SAAS,CAAC,EAAE,WAAW;oBACtE,GAAG,KAAK;;;;;;;;;;;;;AAOrC","debugId":null}},
    {"offset": {"line": 790, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 796, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/components/Common/Spinner.tsx"],"sourcesContent":["export default function Spinner() {\n    return (\n        <div className=\"flex items-center justify-center\">\n            <svg\n                className=\"animate-spin h-[50px] w-[50px] text-blue-500\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n            >\n                <circle\n                    className=\"opacity-25\"\n                    cx=\"12\"\n                    cy=\"12\"\n                    r=\"10\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"4\"\n                />\n                <path\n                    className=\"opacity-75\"\n                    fill=\"currentColor\"\n                    d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"\n                />\n            </svg>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAe,SAAS;IACpB,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YACG,WAAU;YACV,OAAM;YACN,MAAK;YACL,SAAQ;;8BAER,8OAAC;oBACG,WAAU;oBACV,IAAG;oBACH,IAAG;oBACH,GAAE;oBACF,QAAO;oBACP,aAAY;;;;;;8BAEhB,8OAAC;oBACG,WAAU;oBACV,MAAK;oBACL,GAAE;;;;;;;;;;;;;;;;;AAKtB","debugId":null}},
    {"offset": {"line": 843, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 849, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/components/Loader/ContentLoader.tsx"],"sourcesContent":["import Image from \"next/image\";\nimport Spinner from \"../Common/Spinner\";\n\nexport default function ContentLoader({ loadingText = \"Loading...\" }) {\n    return (\n        <>\n            <div className=\"flex-1 container mx-auto relative z-10 flex justify-center mb-5 md:mt-[36px] mt-[15px] \">\n                <div className=\"flex flex-col items-center justify-start w-full\">\n                    <div className=\"w-full bg-[#ebebeb10] rounded-[48px] w-full\">\n                        <div className=\"space-y-4 md:space-y-6 p-5 bg-[#EBEBEB] rounded-[34px] relative overflow-hidden\">\n                            <div className=\"flex flex-col my-[50px] gap-[12px] relative z-1\">\n                                <Spinner/>\n                                <h2 className=\"text-[#2B1354] text-center  candal-font font-normal text-[16px] md:text-[25px] leading-normal tracking-[-1.36px]\">{loadingText}</h2>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n}\n"],"names":[],"mappings":";;;;AACA;;;AAEe,SAAS,cAAc,EAAE,cAAc,YAAY,EAAE;IAChE,qBACI;kBACI,cAAA,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,gIAAA,CAAA,UAAO;;;;;8CACR,8OAAC;oCAAG,WAAU;8CAAoH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQlK","debugId":null}},
    {"offset": {"line": 910, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 916, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/components/Story/FrontCoverLayoutEditor.tsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport { Dialog } from \"@headlessui/react\";\nimport { useEffect, useRef, useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { regenrateStoryCover, getStoryFrontCoverEditor } from \"@/services/story-service\";\nimport ContentLoader from \"../Loader/ContentLoader\";\n\ntype Story = {\n  _id: string;\n  characterImagePrompts?: {\n    characterId: string;\n    image: string;\n    transparentImage: string;\n    imagePrompt: string;\n    _id: string;\n  }[];\n  characters?: {\n    _id: string;\n    leonardoMediaId: string;\n  }[];\n};\n\ntype RegenerateImageProp = {\n  story: Story | undefined;\n  onSave: (newImagePath: string) => void;\n  showModal: boolean;\n  onModalHide: () => void;\n  saveLoading?: boolean;\n}\n\nconst FrontCoverLayoutEditor = ({ story, onSave, showModal, onModalHide, saveLoading = false }: RegenerateImageProp) => {\n\n  const iframeRef = useRef<HTMLIFrameElement>(null);\n  const [loading, setLoading] = useState(false);\n\n  const [coverHtml, setCoverHtml] = useState(\"\");\n\n  const onHideModal = () => {\n    onModalHide();\n  }\n\n  const getIframeHTML = (): string | null => {\n    if (!iframeRef.current) return null;\n\n    try {\n      const doc = iframeRef.current.contentDocument || iframeRef.current.contentWindow?.document;\n      return doc?.documentElement?.outerHTML || null;\n    } catch (e) {\n      console.error(\"Failed to get iframe content:\", e);\n      return null;\n    }\n  };\n\n  const saveCoverImage = () => {\n    if (!story?._id) {\n      return toast.error(\"Story ID is missing\");\n    }\n\n    const updatedHtml = getIframeHTML();\n\n    if (!updatedHtml) {\n      return toast.error(\"Failed to get updated layout\");\n    }\n\n    setLoading(true);\n    regenrateStoryCover(story._id, {\n      coverHtml: updatedHtml\n    })\n      .then((res: any) => {\n        if (res?.data?.coverImage) {\n          onSave(res.data.coverImage);\n        } else {\n          toast.error(\"No image returned from AI generator\");\n        }\n      })\n      .catch((err: any) => {\n        toast.error(err?.message ?? \"Failed to regenerate image\");\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    if (story?._id) {\n      getStoryFrontCoverEditor(story._id).then((res: any) => {\n        setCoverHtml(res ?? \"\");\n      });\n    }\n  }, [story]);\n\n  if (!story) {\n    return null;\n  }\n\n  return (\n    <>\n      <Dialog\n        open={showModal}\n        onClose={onHideModal}\n        className=\"relative z-50\"\n      >\n        <div\n          className=\"fixed inset-0 bg-black/30\"\n          aria-hidden=\"true\"\n        />\n\n        <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n          <Dialog.Panel className=\"mx-auto w-full md:w-[80%] max-h-[90vh] rounded-[34px] bg-white p-6 shadow-lg relative flex flex-col\">\n            <button\n              onClick={onHideModal}\n              className=\"absolute top-[24px] right-[24px] text-gray-600 hover:text-gray-800 cursor-pointer\"\n              aria-label=\"Close\"\n            >\n              <Image\n                width={24}\n                height={24}\n                alt=\"close-icon\"\n                src=\"/assets/images/modal-close.svg\"\n              />\n            </button>\n            <Dialog.Title className=\"text-[#2B282F] candal-font font-normal text-[22px] mb-4\">\n              Edit Cover Layout\n            </Dialog.Title>\n\n            <div className=\"overflow-y-auto pr-2 custom-scroll max-h-[calc(100vh-280px)]\">\n              <p>Drag images to reposition them. Once saved, edits can't be made—you'll need to start over.</p>\n              {\n                coverHtml ? <>\n                  <div className=\"story-cover-iframe-wrapper\">\n                    <iframe\n                      ref={iframeRef}\n                      srcDoc={coverHtml}\n                      height={512}\n                      width={512}\n                      frameBorder=\"0\"\n                      sandbox=\"allow-scripts allow-same-origin\"\n                    ></iframe>\n                  </div>\n                </> : <>\n                  <ContentLoader loadingText=\"Loading Editor...\" />\n                </>\n              }\n            </div>\n\n            <button disabled={loading} onClick={saveCoverImage} className=\"flex bg-center items-center bg-[#2B1354] p-[15px] text-[#fff] rounded-[40px] mt-[18px] flex items-center justify-center gap-[12px]\">\n              {\n                loading ? <>\n                  <Image\n                    src=\"/assets/images/regenrate-simple.svg\"\n                    width={20}\n                    height={20}\n                    alt=\"icon\"\n                    className=\"animate-spin\"\n                  />\n                  <span>Saving...</span>\n                </> : <>\n                  <Image\n                    src=\"/assets/images/regenrate-simple.svg\"\n                    width={20}\n                    height={20}\n                    alt=\"icon\"\n                  />\n                  <span>Save</span>\n                </>\n              }\n            </button>\n\n          </Dialog.Panel>\n        </div>\n      </Dialog>\n    </>\n  );\n\n};\n\nexport default FrontCoverLayoutEditor;\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AAgCA,MAAM,yBAAyB,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,WAAW,EAAE,cAAc,KAAK,EAAuB;IAEjH,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAqB;IAC5C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,cAAc;QAClB;IACF;IAEA,MAAM,gBAAgB;QACpB,IAAI,CAAC,UAAU,OAAO,EAAE,OAAO;QAE/B,IAAI;YACF,MAAM,MAAM,UAAU,OAAO,CAAC,eAAe,IAAI,UAAU,OAAO,CAAC,aAAa,EAAE;YAClF,OAAO,KAAK,iBAAiB,aAAa;QAC5C,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC,iCAAiC;YAC/C,OAAO;QACT;IACF;IAEA,MAAM,iBAAiB;QACrB,IAAI,CAAC,OAAO,KAAK;YACf,OAAO,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;QACrB;QAEA,MAAM,cAAc;QAEpB,IAAI,CAAC,aAAa;YAChB,OAAO,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;QACrB;QAEA,WAAW;QACX,CAAA,GAAA,6HAAA,CAAA,sBAAmB,AAAD,EAAE,MAAM,GAAG,EAAE;YAC7B,WAAW;QACb,GACG,IAAI,CAAC,CAAC;YACL,IAAI,KAAK,MAAM,YAAY;gBACzB,OAAO,IAAI,IAAI,CAAC,UAAU;YAC5B,OAAO;gBACL,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;YACd;QACF,GACC,KAAK,CAAC,CAAC;YACN,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,KAAK,WAAW;QAC9B,GACC,OAAO,CAAC;YACP,WAAW;QACb;IACJ;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,OAAO,KAAK;YACd,CAAA,GAAA,6HAAA,CAAA,2BAAwB,AAAD,EAAE,MAAM,GAAG,EAAE,IAAI,CAAC,CAAC;gBACxC,aAAa,OAAO;YACtB;QACF;IACF,GAAG;QAAC;KAAM;IAEV,IAAI,CAAC,OAAO;QACV,OAAO;IACT;IAEA,qBACE;kBACE,cAAA,8OAAC,+KAAA,CAAA,SAAM;YACL,MAAM;YACN,SAAS;YACT,WAAU;;8BAEV,8OAAC;oBACC,WAAU;oBACV,eAAY;;;;;;8BAGd,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,+KAAA,CAAA,SAAM,CAAC,KAAK;wBAAC,WAAU;;0CACtB,8OAAC;gCACC,SAAS;gCACT,WAAU;gCACV,cAAW;0CAEX,cAAA,8OAAC,6HAAA,CAAA,UAAK;oCACJ,OAAO;oCACP,QAAQ;oCACR,KAAI;oCACJ,KAAI;;;;;;;;;;;0CAGR,8OAAC,+KAAA,CAAA,SAAM,CAAC,KAAK;gCAAC,WAAU;0CAA0D;;;;;;0CAIlF,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;kDAAE;;;;;;oCAED,0BAAY;kDACV,cAAA,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDACC,KAAK;gDACL,QAAQ;gDACR,QAAQ;gDACR,OAAO;gDACP,aAAY;gDACZ,SAAQ;;;;;;;;;;;sEAGR;kDACJ,cAAA,8OAAC,sIAAA,CAAA,UAAa;4CAAC,aAAY;;;;;;;;;;;;;0CAKjC,8OAAC;gCAAO,UAAU;gCAAS,SAAS;gCAAgB,WAAU;0CAE1D,wBAAU;;sDACR,8OAAC,6HAAA,CAAA,UAAK;4CACJ,KAAI;4CACJ,OAAO;4CACP,QAAQ;4CACR,KAAI;4CACJ,WAAU;;;;;;sDAEZ,8OAAC;sDAAK;;;;;;;iEACF;;sDACJ,8OAAC,6HAAA,CAAA,UAAK;4CACJ,KAAI;4CACJ,OAAO;4CACP,QAAQ;4CACR,KAAI;;;;;;sDAEN,8OAAC;sDAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWxB;uCAEe","debugId":null}},
    {"offset": {"line": 1148, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1154, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/components/Story/RegenerateImage.tsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport { Dialog } from \"@headlessui/react\";\nimport { useEffect, useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { generateNewAIImage, regenrateStoryCover, regenerateCharacter } from \"@/services/story-service\";\nimport { createBackendUrl } from \"@/utils/helpers\";\nimport SmartImage from \"../Common/SmartImage\";\nimport ButtonLoader from \"../Common/ButtonLoader\";\nimport FrontCoverLayoutEditor from \"./FrontCoverLayoutEditor\";\ntype CharacterImagePrompt = {\n  characterId: string;\n  image: string;\n  transparentImage: string;\n  imagePrompt: string;\n  _id: string;\n};\n\ntype Story = {\n  _id: string;\n  coverHtml?: string;\n  characterImagePrompts?: {\n    characterId: string;\n    image: string;\n    transparentImage: string;\n    imagePrompt: string;\n    _id: string;\n  }[];\n  characters?: {\n    _id: string;\n    leonardoMediaId: string;\n  }[];\n};\n\ntype RegenerateImageProp = {\n  story: Story | undefined;\n  title: string;\n  currentImage: string;\n  onSave: (newImagePath: string) => void;\n  showModal: boolean;\n  onModalHide: () => void;\n  prompt?: string;\n  saveLoading?: boolean;\n}\n\nconst RegenerateImage = ({ story, title, currentImage, onSave, showModal, onModalHide, prompt = \"\", saveLoading = false }: RegenerateImageProp) => {\n\n  const [image, setImage] = useState(currentImage);\n  const [charPrompts, setCharPrompts] = useState<CharacterImagePrompt[]>(story?.characterImagePrompts ?? []);\n  const [loadingIndex, setLoadingIndex] = useState<number | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [editloading, setEditloading] = useState(false)\n  const [showFrontCoverLayoutModal, setShowFrontCoverLayoutModal] = useState(false);\n  useEffect(() => {\n    if (story?.characterImagePrompts) {\n      setCharPrompts([...story.characterImagePrompts]);\n    }\n  }, [story, showModal]);\n\n  const onHideModal = () => {\n    onModalHide();\n  }\n\n  const handlePromptChange = (index: number, newPrompt: string) => {\n    const updated = [...charPrompts];\n    updated[index].imagePrompt = newPrompt;\n    setCharPrompts(updated);\n  };\n\n  const handleregenerateCharacter = (index: number) => {\n    const CharacterImagePrompt = charPrompts[index];\n    console.log(\"handleregenerateCharacter function called\");\n    if (!CharacterImagePrompt.imagePrompt || !CharacterImagePrompt.characterId) {\n      return toast.error(\"Missing prompt or character ID\");\n    }\n    if (!story?._id) {\n      return toast.error(\"Story ID is missing\");\n    }\n    setLoadingIndex(index);\n    regenerateCharacter(story._id, {\n      prompt: CharacterImagePrompt.imagePrompt,\n      characterId: CharacterImagePrompt.characterId,\n    })\n      .then((res: any) => {\n        const updated = [...charPrompts];\n        updated[index].image = res.data.image;\n        setCharPrompts(updated);\n      })\n      .catch((err: any) => {\n        toast.error(err?.message ?? \"Failed to regenerate image\");\n      })\n      .finally(() => {\n        setLoadingIndex(null);\n      });\n  };\n  console.log(\"story\", story);\n\n  const regenerateCoverImage = () => {\n    if (!story?._id) {\n      return toast.error(\"Story ID is missing\");\n    }\n\n    setLoading(true);\n\n    regenrateStoryCover(story._id)\n      .then((res: any) => {\n        if (res?.data?.coverImage) {\n          setImage(res.data.coverImage);\n          onSave(res.data.coverImage);\n        } else {\n          console.warn(\"Response structure unexpected:\", res);\n          toast.error(\"No image returned from AI generator\");\n        }\n      })\n      .catch((err: any) => {\n        console.error(\"Image regeneration error:\", err);\n        toast.error(err?.message ?? \"Failed to regenerate image\");\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  const saveImage = () => {\n    console.log(\"image\", image);\n    onSave(image);\n  }\n\n  if (!story) {\n    return null;\n  }\n\n  const handleEditLayout = (scene: any) => {\n    // setSceneToEdit(scene);\n\n    setShowFrontCoverLayoutModal(true);\n  }\n\n  const handleNewGenerateImageSave = (newImagePath: string) => {\n    if (newImagePath) {\n      setShowFrontCoverLayoutModal(false);\n      setEditloading(false);\n      onSave(newImagePath)\n    }\n  }\n\n  return (\n    <>\n      <Dialog\n        open={showModal}\n        onClose={onHideModal}\n        className=\"relative z-50\"\n      >\n        <div\n          className=\"fixed inset-0 bg-black/30\"\n          aria-hidden=\"true\"\n        />\n\n        <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n          <Dialog.Panel className=\"mx-auto w-full md:w-[750px] max-h-[90vh] rounded-[34px] bg-white p-6 shadow-lg relative flex flex-col\">\n            <button\n              onClick={onHideModal}\n              className=\"absolute top-[24px] right-[24px] text-gray-600 hover:text-gray-800 cursor-pointer\"\n              aria-label=\"Close\"\n            >\n              <Image\n                width={24}\n                height={24}\n                alt=\"close-icon\"\n                src=\"/assets/images/modal-close.svg\"\n              />\n            </button>\n            <Dialog.Title className=\"text-[#2B282F] candal-font font-normal text-[22px] mb-4\">\n              {title}\n            </Dialog.Title>\n            <p>This will override the existing layout changes of cover, you will need to re-do layout changes if you done any.</p>\n            <div className=\"overflow-y-auto pr-2 custom-scroll max-h-[calc(100vh-280px)]\">\n              {charPrompts.map((charPrompt, index) => (\n                <div key={charPrompt._id} className=\"mt-[24px] grid grid-cols-3 gap-[18px]\">\n                  <div className=\"col-span-1 relative\">\n                    <SmartImage\n                      alt=\"character-image\"\n                      src={createBackendUrl(charPrompt.image)}\n                      className=\"w-full\"\n                      width={150}\n                      height={150}\n                    />\n                  </div>\n\n                  <div className=\"col-span-2\">\n                    <div className=\"bg-[#D8D8D8] py-[9px] px-[24px] w-full rounded-[34px]\">\n                      <p className=\"text-[#6F6A77] font-poppins text-[11px] font-semibold mb-[8px]\">\n                        Prompt\n                      </p>\n                      <textarea\n                        value={charPrompt.imagePrompt}\n                        onChange={(e) => handlePromptChange(index, e.target.value)}\n                        className=\"bg-transparent w-full min-h-[100px] outline-none font-poppins text-[16px] font-medium\"\n                      />\n                    </div>\n\n                    <button\n                      onClick={() => handleregenerateCharacter(index)}\n                      className=\"w-full flex items-center justify-center bg-[#C4CD24] mx-3 my-3 rounded-[40px] p-[15px] md:py-[17px] text-[#2B1354] text-center font-poppins text-base font-medium leading-normal cursor-pointer\"\n                    >\n                      {loadingIndex === index ? (\n                        <>\n                          <Image\n                            src=\"/assets/images/regenrate-simple.svg\"\n                            width={20}\n                            height={20}\n                            alt=\"loading\"\n                            className=\"animate-spin blackimg me-2\"\n                          />\n                          <span>Regenerating...</span>\n                        </>\n                      ) : (\n                        <>\n                          <Image\n                            src=\"/assets/images/regenrate-simple.svg\"\n                            width={20}\n                            height={20}\n                            alt=\"icon\"\n                            className=\"blackimg me-2\"\n                          />\n                          <span>Regenerate</span>\n                        </>\n                      )}\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            <button\n              onClick={regenerateCoverImage}\n              className=\"flex items-center bg-[#2B1354] w-full px-[20px] py-[15px] text-[#fff] rounded-[40px] mt-[18px] justify-center gap-[12px] text-base leading-none border-t-[1px] border-b-[1px] border-[#2B1354]\"\n            >\n              {\n                loading ? (\n                  <>\n                    <Image\n                      src=\"/assets/images/regenrate-simple.svg\"\n                      width={24}\n                      height={24}\n                      alt=\"icon\"\n                      className=\"animate-spin\"\n                    />\n                    <span className=\"mt-[2px]\">Regenerating...</span>\n                  </>\n                ) : (\n                  <>\n                    <Image\n                      src=\"/assets/images/regenrate-simple.svg\"\n                      width={24}\n                      height={24}\n                      alt=\"icon\"\n                    />\n                    <span className=\"mt-[2px]\">Regenerate Cover Image</span>\n                  </>\n                )\n              }\n            </button>\n\n\n\n            <p className=\"text-center text-[#2B1354] my-[12px] font-medium\">or</p>\n\n            <button onClick={handleEditLayout} className=\"flex items-center bg-white w-full h-[56px] p-[15px] text-[#2B1354] rounded-[40px] justify-center gap-[12px] border border-[#2B1354] text-base leading-none\">\n              {\n                editloading ? <>\n                  <Image\n                    src=\"/assets/images/regenrate-simple.svg\"\n                    width={24}\n                    height={24}\n                    alt=\"icon\"\n                    className=\"animate-spin\"\n                  />\n                  <span>Editing...</span>\n                </> : <>\n                  <Image\n                    width={24}\n                    height={24}\n                    alt=\"icon\"\n                    src=\"/assets/images/edit-content-icon-fixed.svg\"\n                    className=\"w-[24px] h-[24px] mt-[-1px]\"\n                  />\n                  <span>Edit Layout</span>\n                </>\n              }\n            </button>\n          </Dialog.Panel>\n        </div>\n      </Dialog>\n      {\n        showFrontCoverLayoutModal ? <>\n          <FrontCoverLayoutEditor\n            story={story}\n            showModal={showFrontCoverLayoutModal}\n            onModalHide={() => setShowFrontCoverLayoutModal(false)}\n            onSave={handleNewGenerateImageSave}\n          />\n        </> : null\n      }\n    </>\n  );\n\n};\n\nexport default RegenerateImage;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1585, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1591, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/components/Story/RegenerateStoryImage.tsx"],"sourcesContent":["// components/Modals/CustomCharacterRegenerateModal.tsx\n\"use client\";\n\nimport Image from \"next/image\";\nimport { Dialog } from \"@headlessui/react\";\nimport { useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { generateNewAIImage } from \"@/services/story-service\";\nimport { createBackendUrl } from \"@/utils/helpers\";\nimport SmartImage from \"../Common/SmartImage\";\n\ntype SceneData = {\n    _id: string; // story ID\n    image?: string;\n    imagePrompt: string;\n    characterId?: string;\n};\n\ntype CustomCharacterRegenerateModalProps = {\n    sceneData: SceneData;\n    showModal: boolean;\n    onClose: () => void;\n    onSave: (updatedImagePath: string) => void;\n};\n\nconst RegenerateStoryImage = ({\n    sceneData,\n    showModal,\n    onClose,\n    onSave,\n}: CustomCharacterRegenerateModalProps) => {\n    const [prompt, setPrompt] = useState(sceneData.imagePrompt);\n    const [image, setImage] = useState(sceneData.image);\n    const [loading, setLoading] = useState(false);\n    const handleRegenerate = () => {\n        if (!sceneData._id || !sceneData.characterId || !prompt) {\n            return toast.error(\"Missing required data.\");\n        }\n\n        setLoading(true);\n        generateNewAIImage(sceneData._id, {\n            prompt,\n            characterId: sceneData.characterId,\n        })\n            .then((res: any) => {\n                if (res?.data?.image) {\n                    setImage(res?.data?.image);\n                    toast.success(\"Image regenerated!\");\n                } else {\n                    toast.error(\"No image returned.\");\n                }\n            })\n            .catch((err) => {\n                toast.error(err?.message ?? \"Error generating image.\");\n            })\n            .finally(() => setLoading(false));\n    };\n\n    const handleSave = () => {\n        if (image) {\n            onSave(image);\n            onClose();\n        }\n    };\n\n    return (\n        <Dialog open={showModal} onClose={onClose} className=\"relative z-50\">\n            <div className=\"fixed inset-0 bg-black/30\" aria-hidden=\"true\" />\n            <div className=\"fixed inset-0 flex items-center justify-center p-4\">\n                <Dialog.Panel className=\"mx-auto w-full md:w-[750px] max-h-[90vh] rounded-[34px] bg-white p-6 shadow-lg relative flex flex-col\">\n                    <button\n                        onClick={onClose}\n                        className=\"absolute top-[24px] right-[24px]\"\n                    >\n                        <Image\n                            src=\"/assets/images/modal-close.svg\"\n                            width={24}\n                            height={24}\n                            alt=\"close\"\n                        />\n                    </button>\n\n                    <Dialog.Title className=\"text-[#2B282F] candal-font font-normal text-[22px] mb-4\">\n                        Regenerate Image\n                    </Dialog.Title>\n\n                    <div className=\"grid grid-cols-3 gap-[18px]\">\n                        <div className=\"col-span-1\">\n                            <SmartImage\n                                alt=\"character-image\"\n                                src={createBackendUrl(image)}\n                                className=\"w-full\"\n                                width={150}\n                                height={150}\n                            />\n                        </div>\n\n                        <div className=\"col-span-2\">\n                            <div className=\"bg-[#D8D8D8] py-[9px] px-[24px] w-full rounded-[34px]\">\n                                <p className=\"text-[#6F6A77] text-[11px] font-semibold mb-[8px]\">\n                                    Prompt\n                                </p>\n                                <textarea\n                                    value={prompt}\n                                    onChange={(e) => setPrompt(e.target.value)}\n                                    className=\"bg-transparent w-full min-h-[100px] outline-none text-[16px] font-medium\"\n                                />\n                            </div>\n\n                            <button\n                                onClick={handleRegenerate}\n                                className=\"bg-[#2B1354] w-full p-[15px] text-white rounded-[40px] mt-[18px] flex items-center justify-center gap-[12px]\"\n                            >\n                                {loading ? (\n                                    <>\n                                        <Image\n                                            src=\"/assets/images/regenrate-simple.svg\"\n                                            width={24}\n                                            height={24}\n                                            alt=\"loading\"\n                                            className=\"animate-spin\"\n                                        />\n                                        <span>Regenerating...</span>\n                                    </>\n                                ) : (\n                                    <>\n                                        <Image\n                                            src=\"/assets/images/regenrate-simple.svg\"\n                                            width={24}\n                                            height={24}\n                                            alt=\"icon\"\n                                        />\n                                        <span>Regenerate</span>\n                                    </>\n                                )}\n                            </button>\n                        </div>\n                    </div>\n\n                    <button\n                        onClick={handleSave}\n                        className=\"bg-[#C4CD24] mt-6 py-[17px] w-full text-[#2B1354] rounded-[40px] font-medium text-base\"\n                    >\n                        Save\n                    </button>\n                </Dialog.Panel>\n            </div>\n        </Dialog>\n    );\n};\n\nexport default RegenerateStoryImage;\n"],"names":[],"mappings":"AAAA,uDAAuD;;;;;AAGvD;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAwBA,MAAM,uBAAuB,CAAC,EAC1B,SAAS,EACT,SAAS,EACT,OAAO,EACP,MAAM,EAC4B;IAClC,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,UAAU,WAAW;IAC1D,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,UAAU,KAAK;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,mBAAmB;QACrB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,WAAW,IAAI,CAAC,QAAQ;YACrD,OAAO,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;QACvB;QAEA,WAAW;QACX,CAAA,GAAA,6HAAA,CAAA,qBAAkB,AAAD,EAAE,UAAU,GAAG,EAAE;YAC9B;YACA,aAAa,UAAU,WAAW;QACtC,GACK,IAAI,CAAC,CAAC;YACH,IAAI,KAAK,MAAM,OAAO;gBAClB,SAAS,KAAK,MAAM;gBACpB,uJAAA,CAAA,UAAK,CAAC,OAAO,CAAC;YAClB,OAAO;gBACH,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;YAChB;QACJ,GACC,KAAK,CAAC,CAAC;YACJ,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,KAAK,WAAW;QAChC,GACC,OAAO,CAAC,IAAM,WAAW;IAClC;IAEA,MAAM,aAAa;QACf,IAAI,OAAO;YACP,OAAO;YACP;QACJ;IACJ;IAEA,qBACI,8OAAC,+KAAA,CAAA,SAAM;QAAC,MAAM;QAAW,SAAS;QAAS,WAAU;;0BACjD,8OAAC;gBAAI,WAAU;gBAA4B,eAAY;;;;;;0BACvD,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,+KAAA,CAAA,SAAM,CAAC,KAAK;oBAAC,WAAU;;sCACpB,8OAAC;4BACG,SAAS;4BACT,WAAU;sCAEV,cAAA,8OAAC,6HAAA,CAAA,UAAK;gCACF,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,KAAI;;;;;;;;;;;sCAIZ,8OAAC,+KAAA,CAAA,SAAM,CAAC,KAAK;4BAAC,WAAU;sCAA0D;;;;;;sCAIlF,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAI,WAAU;8CACX,cAAA,8OAAC,mIAAA,CAAA,UAAU;wCACP,KAAI;wCACJ,KAAK,CAAA,GAAA,gHAAA,CAAA,mBAAgB,AAAD,EAAE;wCACtB,WAAU;wCACV,OAAO;wCACP,QAAQ;;;;;;;;;;;8CAIhB,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAE,WAAU;8DAAoD;;;;;;8DAGjE,8OAAC;oDACG,OAAO;oDACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;oDACzC,WAAU;;;;;;;;;;;;sDAIlB,8OAAC;4CACG,SAAS;4CACT,WAAU;sDAET,wBACG;;kEACI,8OAAC,6HAAA,CAAA,UAAK;wDACF,KAAI;wDACJ,OAAO;wDACP,QAAQ;wDACR,KAAI;wDACJ,WAAU;;;;;;kEAEd,8OAAC;kEAAK;;;;;;;6EAGV;;kEACI,8OAAC,6HAAA,CAAA,UAAK;wDACF,KAAI;wDACJ,OAAO;wDACP,QAAQ;wDACR,KAAI;;;;;;kEAER,8OAAC;kEAAK;;;;;;;;;;;;;;;;;;;;;;;;;sCAO1B,8OAAC;4BACG,SAAS;4BACT,WAAU;sCACb;;;;;;;;;;;;;;;;;;;;;;;AAOrB;uCAEe","debugId":null}},
    {"offset": {"line": 1825, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1831, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/components/TextEditor/index.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { useEditor, EditorContent } from \"@tiptap/react\";\nimport StarterKit from \"@tiptap/starter-kit\";\nimport TextStyle from \"@tiptap/extension-text-style\";\nimport Color from \"@tiptap/extension-color\";\nimport FontFamily from \"@tiptap/extension-font-family\";\nimport FontSize from \"@tiptap/extension-font-size\";\nimport TextAlign from \"@tiptap/extension-text-align\";\nimport { BiAlignLeft, BiAlignMiddle } from \"react-icons/bi\";\nimport { FONT_FAMILIES, FONT_SIZES } from \"@/config/constants\";\ninterface TextEditorProps {\n  editContent: string;\n  setEditContent: (content: string) => void;\n}\n\nexport default function TextEditor({ editContent, setEditContent }: TextEditorProps) {\n\n  const editor = useEditor({\n    extensions: [\n      StarterKit,\n      TextStyle,\n      Color,\n      FontFamily,\n      FontSize,\n      TextAlign.configure({\n        alignments: ['left', 'center', 'right', 'justify'],\n        types: [\"heading\", \"paragraph\"],\n      }),\n    ],\n    content: editContent,\n    onUpdate: ({ editor }) => {\n      setEditContent(editor.getHTML());\n    },\n  });\n\n  // Handle external content changes\n  useEffect(() => {\n    if (editor && editContent !== editor.getHTML()) {\n      editor.commands.setContent(editContent, false);\n    }\n  }, [editContent, editor]);\n\n  useEffect(() => {\n    return () => {\n      editor?.destroy();\n    };\n  }, [editor]);\n\n  if (!editor) return <div>Loading editor...</div>;\n\n  return (\n    <div className=\"space-y-4 tiptap-wrapper-div\">\n      {/* Toolbar */}\n      <div className=\"tiptap-menu-topbar\">\n        {/* Font Family */}\n        <select\n          onChange={(e) =>\n            editor.chain().focus().setFontFamily(e.target.value).run()\n          }\n          className=\"cursor-pointer rounded-full bg-gray-200 px-3 py-1\"\n          defaultValue=\"Arial\"\n        >\n          {FONT_FAMILIES.map(font => (\n            <option key={font} value={font}>{font}</option>\n          ))}\n        </select>\n\n        {/* Font Size */}\n        <select\n          onChange={(e) =>\n            editor.chain().focus().setFontSize(e.target.value).run()\n          }\n          className=\"border px-2 py-1 rounded-full\"\n          defaultValue=\"16px\"\n        >\n          {FONT_SIZES.map(size => (\n            <option key={size} value={size}>{size}</option>\n          ))}\n        </select>\n\n        {/* Bold */}\n        <button\n          type=\"button\"\n          onClick={() => editor.chain().focus().toggleBold().run()}\n          className=\"cursor-pointer font-bold px-2 py-1\"\n        >\n          B\n        </button>\n\n        {/* Italic */}\n        <button\n          type=\"button\"\n          onClick={() => editor.chain().focus().toggleItalic().run()}\n          className=\"cursor-pointer italic font-bold px-2 py-1\"\n        >\n          i\n        </button>\n\n        {/* Text Align Left */}\n        <button\n          type=\"button\"\n          onClick={() => editor.chain().focus().setTextAlign('left').run()}\n          className=\"cursor-pointer text-xl px-2 py-1\"\n        >\n          <BiAlignLeft />\n        </button>\n\n        {/* Text Align Center */}\n        <button\n          type=\"button\"\n          onClick={() => editor.chain().focus().setTextAlign('center').run()}\n          className=\"cursor-pointer text-xl px-2 py-1\"\n        >\n          <BiAlignMiddle />\n        </button>\n\n        {/* Text Color */}\n        <label className=\"color-picker\">\n          <input\n            type=\"color\"\n            onInput={(e) =>\n              editor.chain().focus().setColor(e.currentTarget.value).run()\n            }\n            className=\"\"\n          />\n        </label>\n      </div>\n\n      {/* Editor */}\n      <div className=\"editor-tiptap-wrapper\">\n        <EditorContent editor={editor} />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;;;;;;;;;;;;AAiBe,SAAS,WAAW,EAAE,WAAW,EAAE,cAAc,EAAmB;IAEjF,MAAM,SAAS,CAAA,GAAA,kKAAA,CAAA,YAAS,AAAD,EAAE;QACvB,YAAY;YACV,2JAAA,CAAA,UAAU;YACV,uKAAA,CAAA,UAAS;YACT,+JAAA,CAAA,UAAK;YACL,wKAAA,CAAA,UAAU;YACV,sKAAA,CAAA,UAAQ;YACR,uKAAA,CAAA,UAAS,CAAC,SAAS,CAAC;gBAClB,YAAY;oBAAC;oBAAQ;oBAAU;oBAAS;iBAAU;gBAClD,OAAO;oBAAC;oBAAW;iBAAY;YACjC;SACD;QACD,SAAS;QACT,UAAU,CAAC,EAAE,MAAM,EAAE;YACnB,eAAe,OAAO,OAAO;QAC/B;IACF;IAEA,kCAAkC;IAClC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,UAAU,gBAAgB,OAAO,OAAO,IAAI;YAC9C,OAAO,QAAQ,CAAC,UAAU,CAAC,aAAa;QAC1C;IACF,GAAG;QAAC;QAAa;KAAO;IAExB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,OAAO;YACL,QAAQ;QACV;IACF,GAAG;QAAC;KAAO;IAEX,IAAI,CAAC,QAAQ,qBAAO,8OAAC;kBAAI;;;;;;IAEzB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBACC,UAAU,CAAC,IACT,OAAO,KAAK,GAAG,KAAK,GAAG,aAAa,CAAC,EAAE,MAAM,CAAC,KAAK,EAAE,GAAG;wBAE1D,WAAU;wBACV,cAAa;kCAEZ,oHAAA,CAAA,gBAAa,CAAC,GAAG,CAAC,CAAA,qBACjB,8OAAC;gCAAkB,OAAO;0CAAO;+BAApB;;;;;;;;;;kCAKjB,8OAAC;wBACC,UAAU,CAAC,IACT,OAAO,KAAK,GAAG,KAAK,GAAG,WAAW,CAAC,EAAE,MAAM,CAAC,KAAK,EAAE,GAAG;wBAExD,WAAU;wBACV,cAAa;kCAEZ,oHAAA,CAAA,aAAU,CAAC,GAAG,CAAC,CAAA,qBACd,8OAAC;gCAAkB,OAAO;0CAAO;+BAApB;;;;;;;;;;kCAKjB,8OAAC;wBACC,MAAK;wBACL,SAAS,IAAM,OAAO,KAAK,GAAG,KAAK,GAAG,UAAU,GAAG,GAAG;wBACtD,WAAU;kCACX;;;;;;kCAKD,8OAAC;wBACC,MAAK;wBACL,SAAS,IAAM,OAAO,KAAK,GAAG,KAAK,GAAG,YAAY,GAAG,GAAG;wBACxD,WAAU;kCACX;;;;;;kCAKD,8OAAC;wBACC,MAAK;wBACL,SAAS,IAAM,OAAO,KAAK,GAAG,KAAK,GAAG,YAAY,CAAC,QAAQ,GAAG;wBAC9D,WAAU;kCAEV,cAAA,8OAAC,8IAAA,CAAA,cAAW;;;;;;;;;;kCAId,8OAAC;wBACC,MAAK;wBACL,SAAS,IAAM,OAAO,KAAK,GAAG,KAAK,GAAG,YAAY,CAAC,UAAU,GAAG;wBAChE,WAAU;kCAEV,cAAA,8OAAC,8IAAA,CAAA,gBAAa;;;;;;;;;;kCAIhB,8OAAC;wBAAM,WAAU;kCACf,cAAA,8OAAC;4BACC,MAAK;4BACL,SAAS,CAAC,IACR,OAAO,KAAK,GAAG,KAAK,GAAG,QAAQ,CAAC,EAAE,aAAa,CAAC,KAAK,EAAE,GAAG;4BAE5D,WAAU;;;;;;;;;;;;;;;;;0BAMhB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,kKAAA,CAAA,gBAAa;oBAAC,QAAQ;;;;;;;;;;;;;;;;;AAI/B","debugId":null}},
    {"offset": {"line": 2037, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2043, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/context/StoryContext.tsx"],"sourcesContent":["import { getStory, updateStory } from \"@/services/story-service\";\nimport { createContext, useContext, ReactNode, useState } from \"react\";\n\n// Define the type for what context will provide\ninterface StoryContextType {\n    story: Story;\n    saveUpdatedStory: (updatedStory: Story, save?: boolean) => void\n    loadStory: () => void\n    openBuyHardCopyModal: boolean,\n    setOpenBuyHardCopyModal: (newState: boolean) => void,\n    openUpdateCoverModal: boolean,\n    setOpenUpdateCoverModal: (newState: boolean) => void,\n    openDownloadModal: boolean,\n    setOpenDownloadModal: (newState: boolean) => void\n    storyLoading: boolean\n    storySaving: boolean\n}\n\n// Create the context\nconst StoryContext = createContext<StoryContextType | undefined>(undefined);\n\n// Hook to use context\nexport const useStory = (): StoryContextType => {\n    const context = useContext(StoryContext);\n    if (!context) {\n        throw new Error(\"useStory must be used within a StoryProvider\");\n    }\n    return context;\n};\n\n// Provider component props\ninterface StoryProviderProps {\n    initialStory: Story;\n    children: ReactNode;\n}\n\n// Provider component\nexport const StoryProvider = ({ initialStory, children }: StoryProviderProps) => {\n\n    const [story, setStory] = useState<Story>(initialStory);\n\n    const [openBuyHardCopyModal, setOpenBuyHardCopyModal] = useState(false);\n    const [openUpdateCoverModal, setOpenUpdateCoverModal] = useState(false);\n    const [openDownloadModal, setOpenDownloadModal] = useState(false);\n\n    const [storyLoading, setStoryLoading] = useState(false);\n    const [storySaving, setStorySaving] = useState(false);\n\n    const loadStory = () => {\n        if (story._id) {\n            setStoryLoading(true);\n            getStory(story._id)\n                .then((res: any) => {\n                    setStory(res?.data);\n                    setStoryLoading(false);\n                    setStorySaving(false);\n                })\n                .catch((err) => {\n                    setStoryLoading(false);\n                    setStorySaving(false);\n                });\n        } else {\n            setStorySaving(false);\n        }\n    };\n\n    const saveUpdatedStory = (updatedStory: Story, save: boolean = true) => {\n        setStory(updatedStory);\n        if (save) {\n            setStorySaving(true);\n            updateStory(updatedStory._id, {\n                ...updatedStory\n            }).then(() => {\n                setStorySaving(false);\n                // loadStory();\n            }).catch((err: any) => {\n                setStorySaving(false);\n            })\n        } else {\n            //update just state\n            setStory({ ...updatedStory });\n        }\n    };\n\n    return (\n        <StoryContext.Provider value={{\n            story,\n            loadStory,\n            saveUpdatedStory,\n            openBuyHardCopyModal,\n            setOpenBuyHardCopyModal,\n            openUpdateCoverModal,\n            setOpenUpdateCoverModal,\n            openDownloadModal,\n            setOpenDownloadModal,\n            storyLoading,\n            storySaving\n        }}>\n            {children}\n        </StoryContext.Provider>\n    );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAiBA,qBAAqB;AACrB,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAAgC;AAG1D,MAAM,WAAW;IACpB,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS;QACV,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX;AASO,MAAM,gBAAgB,CAAC,EAAE,YAAY,EAAE,QAAQ,EAAsB;IAExE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAS;IAE1C,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjE,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjE,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3D,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,MAAM,YAAY;QACd,IAAI,MAAM,GAAG,EAAE;YACX,gBAAgB;YAChB,CAAA,GAAA,6HAAA,CAAA,WAAQ,AAAD,EAAE,MAAM,GAAG,EACb,IAAI,CAAC,CAAC;gBACH,SAAS,KAAK;gBACd,gBAAgB;gBAChB,eAAe;YACnB,GACC,KAAK,CAAC,CAAC;gBACJ,gBAAgB;gBAChB,eAAe;YACnB;QACR,OAAO;YACH,eAAe;QACnB;IACJ;IAEA,MAAM,mBAAmB,CAAC,cAAqB,OAAgB,IAAI;QAC/D,SAAS;QACT,IAAI,MAAM;YACN,eAAe;YACf,CAAA,GAAA,6HAAA,CAAA,cAAW,AAAD,EAAE,aAAa,GAAG,EAAE;gBAC1B,GAAG,YAAY;YACnB,GAAG,IAAI,CAAC;gBACJ,eAAe;YACf,eAAe;YACnB,GAAG,KAAK,CAAC,CAAC;gBACN,eAAe;YACnB;QACJ,OAAO;YACH,mBAAmB;YACnB,SAAS;gBAAE,GAAG,YAAY;YAAC;QAC/B;IACJ;IAEA,qBACI,8OAAC,aAAa,QAAQ;QAAC,OAAO;YAC1B;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACJ;kBACK;;;;;;AAGb","debugId":null}},
    {"offset": {"line": 2124, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2130, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/components/Story/StoryFrontCover.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@headlessui/react\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { updateStory } from \"@/services/story-service\";\nimport toast from \"react-hot-toast\";\nimport { useStory } from \"@/context/StoryContext\";\n\nexport default function StoryFrontCover({ }) {\n\n    const { story, setOpenBuyHardCopyModal, setOpenUpdateCoverModal, setOpenDownloadModal } = useStory();\n\n    const saveStory = (updatedStory: Story) => {\n        if (updatedStory) {\n            updateStory(updatedStory._id, {\n                ...updatedStory\n            }).then(() => {\n                //saved\n            }).catch((err: any) => {\n                toast.error(err?.message ?? \"Failed to save story\");\n            })\n        }\n    }\n\n    const handleSceneUpdate = (updatedScene: Scene, index: number) => {\n\n        if (!story) return false;\n\n        let tempStory = { ...story };\n        const updatedScenes = [...tempStory.scenes];\n        updatedScenes[index] = updatedScene;\n        tempStory = {\n            ...tempStory,\n            scenes: updatedScenes,\n        };\n\n        saveStory(tempStory);\n        // setStory(tempStory);\n    };\n\n    return (\n        <>\n            <div className=\"story-front-page-cover h-full order-2 md:order-1 flex flex-col justify-between mt-4 gap-[18px] md:gap-0\">\n                <div className=\"mb-5\">\n                    <h2 className=\"text-[#2B282F] candal-font text-[28px] font-normal leading-normal tracking-[-1.12px] mb-[34px]\">\n                        {story?.title}\n                    </h2>\n                    {/* <h2 title={story?.description} className=\"text-[#2B282F] story-description-box tracking-[-1.12px] mb-[34px]\">\n                        {story?.description}\n                    </h2> */}\n                    <div className=\"grid md:grid-cols-2 grid-cols-1 gap-[18px]\">\n                        <Link\n                            prefetch\n                            href={`/my-stories/edit/${story._id}`}\n                            className=\"rounded-[24px] bg-[#EEEEEE] w-full flex flex-col gap-[8px] items-center p-[24px] cursor-pointer\"\n                        >\n                            <Image\n                                width={34}\n                                height={34}\n                                src=\"/assets/images/edit-img.svg\"\n                                alt=\"edit-icon\"\n                            />\n                            <p className=\"text-[#2B1354] font-poppins text-[16px] font-medium leading-normal\">\n                                Edit Book\n                            </p>\n                        </Link>\n                        <Button\n                            onClick={() => setOpenUpdateCoverModal(true)}\n                            className=\"rounded-[24px] bg-[#EEEEEE] w-full flex flex-col gap-[8px] items-center p-[24px] cursor-pointer\"\n                        >\n                            <Image\n                                width={34}\n                                height={34}\n                                src=\"/assets/images/edit-img.svg\"\n                                alt=\"edit-icon\"\n                            />\n                            <p className=\"text-[#2B1354] font-poppins text-[16px] font-medium leading-normal\">\n                                Updated Cover\n                            </p>\n                        </Button>\n                        <Button\n                            onClick={() => setOpenDownloadModal(true)}\n                            className=\"rounded-[24px] bg-[#EEEEEE] w-full flex flex-col gap-[8px] items-center p-[24px] cursor-pointer\">\n                            <Image\n                                width={34}\n                                height={34}\n                                src=\"/assets/images/edit-img.svg\"\n                                alt=\"edit-icon\"\n                            />\n                            <p className=\"text-[#2B1354] font-poppins text-[16px] font-medium leading-normal\">\n                                Download Book\n                            </p>\n                        </Button>\n                        {\n                            story.hardCopyPurchase ? <>\n                                <Button onClick={() => setOpenBuyHardCopyModal(true)} className=\"rounded-[24px] bg-[#c4cd2433] w-full flex flex-col gap-[8px] items-center p-[24px] cursor-pointer\">\n                                    <Image\n                                        width={34}\n                                        height={34}\n                                        src=\"/assets/images/purchased.png\"\n                                        alt=\"edit-icon\"\n                                    />\n                                    <p className=\"text-[#2B1354] font-poppins text-[16px] font-medium leading-normal\">\n                                        Hard Copy Purchased\n                                    </p>\n                                </Button>\n                            </> : <>\n                                <div className=\"flex flex-col gap-[8px] w-full\">\n                                    <p className=\"text-[#6F6A77] py-1 font-poppins text-[14px] !italic font-medium leading-normal\">\n                                        Want to buy a hard copy for this book?\n                                    </p>\n                                    <Button\n                                        onClick={() => setOpenBuyHardCopyModal(true)}\n                                        className=\"p-[6px] py-[12px] cursor-pointer w-full pl-[24px] flex items-center justify-between gap-[18px] bg-[#2B1354] rounded-[40px]\"\n                                    >\n                                        <span className=\"text-[#EBEBEB] font-poppins text-[16px] font-medium leading-normal\">\n                                            Buy Hard Copy\n                                        </span>\n                                        <Image\n                                            width={42}\n                                            height={42}\n                                            src=\"/assets/images/next-icon.svg\"\n                                            alt=\"next-icon\"\n                                        />\n                                    </Button>\n                                </div>\n                            </>\n                        }\n                    </div>\n                </div>\n\n                <div className=\"mt-[30px]\">\n                    <Link\n                        prefetch\n                        href={`/my-stories/edit/${story._id}`}\n                        className=\"p-[6px] w-full md:w-fit pl-[24px] flex items-center justify-between gap-[18px]  rounded-[40px] border border-[#2B1354]\"\n                    >\n                        <span className=\"text-[#2B1354] font-poppins text-[16px] font-medium leading-normal\">\n                            Next Step: Review & Edit Book\n                        </span>\n                        <Image\n                            width={42}\n                            height={42}\n                            src=\"/assets/images/next-icon.svg\"\n                            alt=\"next-icon\"\n                        />\n                    </Link>\n                </div>\n\n            </div>\n\n        </>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2412, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2418, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/components/Story/StoryBackCover.tsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { useStory } from \"@/context/StoryContext\";\n\nexport default function StoryBackCover({ }) {\n\n    const { story, setOpenBuyHardCopyModal } = useStory();\n\n    return (\n        <>\n            <div className=\"story-back-page-cover h-full order-2 md:order-1 flex flex-col justify-between mt-4 gap-[18px] md:gap-0\">\n                <div className=\"mb-5 md:px-[50px] flex flex-col align-center justify-center h-full\">\n                    {\n                        story.hardCopyPurchase ? <>\n                            <h2 className=\"mb-4 mt-5 text-[#2B1354] text-center font-poppins text-[16px] font-medium leading-normal max-w-[80%] mx-auto\">\n                                Your book is ready to be printed. Once print request or download request you can't edit your book.\n                            </h2>\n                            <div className=\"grid md:grid-cols-1 items-center grid-cols-1 gap-[18px]\">\n                                <button\n                                    type='button'\n                                    className='flex w-full justify-center align-center bg-[#C4CD24] rounded-[40px] w-full py-[12px] md:py-[17px] text-[#2B1354] text-center font-poppins text-base font-medium leading-normal cursor-pointer disabled:bg-gray-400'\n                                >\n                                    Request Print Now\n                                </button>\n                            </div>\n                        </> : <>\n                            <h2 className=\"mb-4 mt-5 text-[#2B1354] text-center font-poppins text-[16px] font-medium leading-normal max-w-[80%] mx-auto\">\n                                Get a hard copy delivered to your address added during checkout\n                            </h2>\n                            <div className=\"grid md:grid-cols-1 items-center grid-cols-1 gap-[18px]\">\n                                <button\n                                    type='button'\n                                    className='flex w-full justify-center align-center bg-[#C4CD24] rounded-[40px] w-full py-[12px] md:py-[17px] text-[#2B1354] text-center font-poppins text-base font-medium leading-normal cursor-pointer disabled:bg-gray-400'\n                                    onClick={() => setOpenBuyHardCopyModal(true)}\n                                >\n                                    Buy Hard Copy\n                                </button>\n                            </div>\n                        </>\n                    }\n                    <div className=\"or-divider my-5 relative w-full text-center\">\n                        <span className=\"!bg-[#FFFFFF]\">Share to</span>\n                    </div>\n                    <div className=\"flex gap-[12px] items-center justify-center\">\n                        <Link href=\"#\" className=\"rounded-full bg-[#EEEEEE] flex items-center justify-center w-[54px]  h-[54px]\">\n                            <Image\n                                width={20}\n                                height={20}\n                                alt=\"icon\"\n                                src=\"/assets/images/lucide.svg\"\n                            />\n                        </Link>\n                        <Link href=\"#\" className=\"rounded-full bg-[#EEEEEE] flex items-center justify-center w-[54px]  h-[54px]\">\n                            <Image\n                                width={20}\n                                height={20}\n                                alt=\"icon\"\n                                src=\"/assets/images/facebook.svg\"\n                            />\n                        </Link>\n                        <Link href=\"#\" className=\"rounded-full bg-[#EEEEEE] flex items-center justify-center w-[54px]  h-[54px]\">\n                            <Image\n                                width={20}\n                                height={20}\n                                alt=\"icon\"\n                                src=\"/assets/images/instagram.svg\"\n                            />\n                        </Link>\n                        <Link href=\"#\" className=\"rounded-full bg-[#EEEEEE] flex items-center justify-center w-[54px]  h-[54px]\">\n                            <Image\n                                width={20}\n                                height={20}\n                                alt=\"icon\"\n                                src=\"/assets/images/x.svg\"\n                            />\n                        </Link>\n                    </div>\n                </div>\n\n                <div className=\"flex justify-end w-full\">\n                    <Link\n                        prefetch\n                        href={`/my-stories/`}\n                        className=\"p-[6px] w-fit pr-[24px] flex items-center justify-between gap-[18px]  rounded-[40px] border border-[#2B1354] md:ml-auto cursor-pointer\"\n                    >\n                        <Image\n                            width={42}\n                            height={42}\n                            src=\"/assets/images/back-blue-btn.svg\"\n                            alt=\"next-icon\"\n                        />\n                        <span className=\"text-[#2B1354] font-poppins text-[16px] font-medium leading-normal\">\n                            Go Back to Stories\n                        </span>\n                    </Link>\n                </div>\n\n            </div>\n\n        </>\n    );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,eAAe,EAAG;IAEtC,MAAM,EAAE,KAAK,EAAE,uBAAuB,EAAE,GAAG,CAAA,GAAA,wHAAA,CAAA,WAAQ,AAAD;IAElD,qBACI;kBACI,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAI,WAAU;;wBAEP,MAAM,gBAAgB,iBAAG;;8CACrB,8OAAC;oCAAG,WAAU;8CAA+G;;;;;;8CAG7H,8OAAC;oCAAI,WAAU;8CACX,cAAA,8OAAC;wCACG,MAAK;wCACL,WAAU;kDACb;;;;;;;;;;;;yDAIH;;8CACF,8OAAC;oCAAG,WAAU;8CAA+G;;;;;;8CAG7H,8OAAC;oCAAI,WAAU;8CACX,cAAA,8OAAC;wCACG,MAAK;wCACL,WAAU;wCACV,SAAS,IAAM,wBAAwB;kDAC1C;;;;;;;;;;;;;sCAMb,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCAAK,WAAU;0CAAgB;;;;;;;;;;;sCAEpC,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAI,WAAU;8CACrB,cAAA,8OAAC,6HAAA,CAAA,UAAK;wCACF,OAAO;wCACP,QAAQ;wCACR,KAAI;wCACJ,KAAI;;;;;;;;;;;8CAGZ,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAI,WAAU;8CACrB,cAAA,8OAAC,6HAAA,CAAA,UAAK;wCACF,OAAO;wCACP,QAAQ;wCACR,KAAI;wCACJ,KAAI;;;;;;;;;;;8CAGZ,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAI,WAAU;8CACrB,cAAA,8OAAC,6HAAA,CAAA,UAAK;wCACF,OAAO;wCACP,QAAQ;wCACR,KAAI;wCACJ,KAAI;;;;;;;;;;;8CAGZ,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAI,WAAU;8CACrB,cAAA,8OAAC,6HAAA,CAAA,UAAK;wCACF,OAAO;wCACP,QAAQ;wCACR,KAAI;wCACJ,KAAI;;;;;;;;;;;;;;;;;;;;;;;8BAMpB,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC,4JAAA,CAAA,UAAI;wBACD,QAAQ;wBACR,MAAM,CAAC,YAAY,CAAC;wBACpB,WAAU;;0CAEV,8OAAC,6HAAA,CAAA,UAAK;gCACF,OAAO;gCACP,QAAQ;gCACR,KAAI;gCACJ,KAAI;;;;;;0CAER,8OAAC;gCAAK,WAAU;0CAAqE;;;;;;;;;;;;;;;;;;;;;;;;AAU7G","debugId":null}},
    {"offset": {"line": 2641, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2647, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/components/TextEditor/TextEditorViewer.tsx"],"sourcesContent":["import { useEffect } from \"react\";\nexport default function TextEditorViewer({ value = \"\" }) {\n    return (\n        <div\n            className=\"tiptap-wrapper-div text-editor-viewer tiptap-viewer whitespace-pre-line\"\n            dangerouslySetInnerHTML={{ __html: value ?? \"\" }}\n        />\n    );\n}\n"],"names":[],"mappings":";;;;;AACe,SAAS,iBAAiB,EAAE,QAAQ,EAAE,EAAE;IACnD,qBACI,8OAAC;QACG,WAAU;QACV,yBAAyB;YAAE,QAAQ,SAAS;QAAG;;;;;;AAG3D","debugId":null}},
    {"offset": {"line": 2664, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2670, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/components/Story/SceneEditor.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@headlessui/react\";\nimport Image from \"next/image\";\nimport toast from \"react-hot-toast\";\nimport { bookCoverImage, createBackendUrl } from \"@/utils/helpers\";\nimport { Fragment, useEffect, useState } from \"react\";\nimport ImageEditor from \"../image-editor/ImageEditor\";\nimport RegenerateImage from \"./RegenerateImage\";\nimport RegenerateStoryImage from \"./RegenerateStoryImage\";\nimport TextEditor from \"../TextEditor\";\nimport SmartImage from \"../Common/SmartImage\";\nimport StoryFrontCover from \"./StoryFrontCover\";\nimport { useStory } from \"@/context/StoryContext\";\nimport StoryBackCover from \"./StoryBackCover\";\nimport TextEditorViewer from \"../TextEditor/TextEditorViewer\";\nimport FrontCoverLayoutEditor from \"./FrontCoverLayoutEditor\";\ntype SceneEditorProp = {\n  mode?: string\n  scene: Scene\n  editMode?: boolean\n  onSceneUpdate: (storyScene: Scene) => void;\n}\n\nconst SceneEditor = ({ mode = \"inline\", editMode = true, scene, onSceneUpdate }: SceneEditorProp) => {\n\n  const { story }: any = useStory();\n\n  const [storyScene, setStoryScene] = useState<Scene>(scene);\n  const [editImage, setEditImage] = useState(false);\n\n  const [showFrontCoverLayoutModal, setShowFrontCoverLayoutModal] = useState(false);\n\n  const [editContent, setEditContent] = useState(\"\");\n  const [editStoryContent, setEditStoryContent] = useState(false);\n\n  const [editLeftContent, setLeftEditContent] = useState(\"\");\n  const [editLeftStoryContent, setLeftEditStoryContent] = useState(false);\n\n  const [regenratemodal, setRegenrateModal] = useState(false);\n  const [imagePrompt, setImagePrompt] = useState(scene?.imagePrompt ?? \"\");\n\n  const [sceneImage, setSceneImage] = useState(\"/scene-default-image.png\");\n  const [sceneBase64Image, setSceneBase64Image] = useState<string | null>(null);\n\n  const [loading, setLoading] = useState(false);\n\n  const [regenrateImageModal, setRegenrateImageModal] = useState(false);\n  const [sceneToEdit, setSceneToEdit] = useState<Scene | null>(null);\n\n  const [updatedhtml, setUpdatedhtml] = useState<string | null>(null);\n\n  useEffect(() => {\n    setStoryScene(scene);\n    setImagePrompt(scene?.imagePrompt);\n    setSceneImage(storyScene.image ? createBackendUrl(storyScene.image) : \"/scene-default-image.png\");\n  }, [scene]);\n\n  // useEffect(() => {\n  //   console.log(\"storyScene\", storyScene);\n  // }, [storyScene])\n\n  const fetchAndConvertToBase64 = async () => {\n    try {\n      const response = await fetch(sceneImage);\n      const blob = await response.blob();\n      const reader: any = new FileReader();\n      reader.onloadend = () => {\n        setSceneBase64Image(reader.result);\n      };\n      reader.readAsDataURL(blob);\n    } catch (error) {\n      console.error('Error converting AWS S3 image to Base64:', error);\n    }\n  };\n\n  useEffect(() => {\n    if (!sceneImage) return;\n    fetchAndConvertToBase64();\n  }, [sceneImage]);\n\n  const handleRegenerateCoverImage = (scene: any) => {\n    setSceneToEdit(scene);\n    setRegenrateModal(true);\n  }\n\n  const handleEditLayout = (scene: any) => {\n    setSceneToEdit(scene);\n    setShowFrontCoverLayoutModal(true);\n  }\n\n  const handleStartRegenerateImage = (scene: any) => {\n    setSceneToEdit(scene);\n    setRegenrateImageModal(true);\n  }\n\n  const handleStartEditImage = () => {\n    setEditImage(true);\n  };\n\n  const handleCancleEditImage = () => {\n    setEditImage(false);\n  };\n\n  const updateSceneData = (updatedSceneData: Scene) => {\n    setStoryScene((scene) => {\n      const updatedScene = {\n        ...scene,\n        ...updatedSceneData\n      };\n      onSceneUpdate(updatedScene);\n      return updatedScene;\n    });\n  }\n\n  const handleSaveEditImage = (newImagePath: string) => {\n    console.log(newImagePath);\n    updateSceneData({\n      ...scene,\n      image: newImagePath,\n      scene_images: [...(scene.scene_images || []), newImagePath],\n    });\n    setEditImage(false);\n  }\n\n  const handleNewGenerateImageSave = (newImagePath: string) => {\n    console.log(\"handleNewGenerateImageSave called\",)\n    updateSceneData({\n      ...scene,\n      image: newImagePath,\n      scene_images: [...(scene.scene_images || []), newImagePath],\n    });\n    setRegenrateModal(false);\n    setShowFrontCoverLayoutModal(false);\n    setRegenrateImageModal(false);\n  }\n\n  const handleSceneImageChange = (index: number) => {\n    console.log(\"scene image\", scene.scene_images[index]);\n    updateSceneData({\n      ...scene,\n      image: scene.scene_images[index]\n    });\n  };\n\n  const handleStartEdit = () => {\n    setEditContent(storyScene.scene);\n    setEditStoryContent(true);\n  };\n\n  const handleCancelEdit = () => {\n    setEditContent(\"\");\n    setEditStoryContent(false);\n  };\n\n  const handleEditContent = () => {\n    updateSceneData({\n      ...scene,\n      scene: editContent\n    });\n    setEditContent(\"\");\n    setEditStoryContent(false);\n  };\n\n\n  const handleLeftStartEdit = () => {\n    setLeftEditContent(storyScene.scene_html ?? \"\");\n    setLeftEditStoryContent(true);\n  };\n\n  const handleLeftCancelEdit = () => {\n    setLeftEditContent(\"\");\n    setLeftEditStoryContent(false);\n  };\n\n  const handleLeftEditContent = () => {\n    updateSceneData({\n      ...scene,\n      scene_html: editLeftContent\n    });\n    setLeftEditContent(\"\");\n    setLeftEditStoryContent(false);\n  };\n\n  return (\n    <>\n\n      <div className={`scene-editor-box relative overflow-hidden ${scene?.type}`}>\n        <div className={`${(scene?.type === \"front_cover\" || scene?.type === \"back_cover\") ? 'one-item-box' : ''} scene-editor-box-item grid md:grid-cols-2 grid-cols-1`}>\n\n          {\n            editMode && mode === \"inline\" && scene?.type === \"front_cover\" ? <>\n              <div className=\"relative scene-editor-box-dynamic-box scene-editor-box-data-item\">\n                <StoryFrontCover />\n              </div>\n            </> : null\n          }\n\n          {\n            scene?.scene_html ? <>\n\n              {\n                scene?.scene_html === \"blank_page\" ? <>\n\n                  <div className=\"scene-editor-box-empty-box scene-left-side scene-editor-box-data-item mx-auto w-full h-[700px] bg-[#fff] flex flex-col items-center justify-center p-[18px] md:p-[34px] relative pb-[80px]\">\n                    <p className=\"text-[20px] text-[#999]\">This page will be empty</p>\n                  </div>\n\n                </> : <>\n\n                  <div className={`${scene?.type} scene-left-side scene-editor-box-content-box scene-editor-box-data-item mx-auto w-full h-[700px] bg-[#FFFFFF] flex flex-col items-center justify-center p-[18px] md:p-[34px] relative pb-[80px]`}>\n                    <div className={`scene-editor-box-layer w-full h-full ${editLeftStoryContent ? \"py-[18px] px-[24px] bg-[#EBEBEB] rounded-[34px]\" : \"\"}`}>\n\n                      {editLeftStoryContent ? (\n                        <TextEditor\n                          editContent={editLeftContent}\n                          setEditContent={setLeftEditContent}\n                        />\n                      ) : (\n                        <>\n                          <TextEditorViewer value={storyScene?.scene_html ?? \"\"} />\n                        </>\n                      )}\n\n                      {\n                        editMode ? <>\n                          {editLeftStoryContent ? (\n                            <>\n                              <div className=\"scene-editor-actions flex items-center gap-[10px] justify-end mt-[34px]\">\n                                <Button\n                                  className=\"w-fit rounded-[40px] bg-[#D8D8D8] flex items-center py-[15px] px-[30px] justify-center gap-[12px] text-[#2B1354] text-[16px] font-medium leading-normal cursor-pointer \"\n                                  onClick={handleLeftCancelEdit}\n                                >\n                                  <span>Cancel</span>\n                                </Button>\n                                <Button\n                                  className=\"w-fit rounded-[40px] bg-[#C4CD24] flex items-center py-[15px] px-[30px] justify-center gap-[12px] text-[#2B1354] text-[16px] font-medium leading-normal cursor-pointer \"\n                                  onClick={handleLeftEditContent}\n                                >\n                                  <span>Save</span>\n                                </Button>\n                              </div>\n                            </>\n                          ) : (\n                            <Button\n                              className=\"scene-editor-actions w-fit rounded-[40px] bg-[#EBEBEB] flex items-center p-[15px] bg-[#EBEBEB] justify-center gap-[12px] text-[#2B1354] text-[16px] font-medium leading-normal cursor-pointer edit-content-btn\"\n                              onClick={handleLeftStartEdit}\n                            >\n                              <Image\n                                width={24}\n                                height={24}\n                                alt=\"icon\"\n                                src=\"/assets/images/edit-content-icon.svg\"\n                                className=\"w-[24px] h-[24px]\"\n                              />\n                              <span>Edit Content</span>\n                            </Button>\n                          )}\n                        </> : null\n                      }\n\n                    </div>\n                  </div>\n\n                </>\n              }\n\n            </> : null\n          }\n\n          {\n            scene?.type !== \"end\" ? <>\n\n              {\n                scene?.scene ? <>\n\n                  {\n                    scene?.scene === \"blank_page\" ? <>\n\n                      <div className=\"scene-editor-box-empty-box scene-left-side scene-editor-box-data-item mx-auto w-full h-[700px] bg-[#fff] flex flex-col items-center justify-center p-[18px] md:p-[34px] relative pb-[80px]\">\n                        <p className=\"text-[20px] text-[#999]\">This page will be empty</p>\n                      </div>\n\n                    </> : <>\n\n                      <div className={`${scene?.type} scene-right-side scene-editor-box-content-box scene-editor-box-data-item mx-auto w-full h-[700px] bg-[#FFF] flex flex-col items-center justify-center p-[18px] md:p-[34px] relative pb-[80px]`}>\n\n                        {\n                          scene?.type === \"back_cover\" ? <>\n                            <div className=\"scene-editor-back-cover-image\" style={{ background: `url('/assets/images/background-image.png')` }}></div>\n                          </> : null\n                        }\n\n                        <div className={`scene-editor-box-layer w-full h-full ${editStoryContent ? \"py-[18px] px-[24px] bg-[#EBEBEB] rounded-[34px]\" : \"\"}`}>\n                          {editStoryContent ? (\n                            <TextEditor\n                              editContent={editContent}\n                              setEditContent={setEditContent}\n                            />\n                          ) : (\n                            <>\n                              <TextEditorViewer value={storyScene?.scene ?? \"\"} />\n                            </>\n                          )}\n\n                          {\n                            editMode ? <>\n                              {editStoryContent ? (\n                                <>\n                                  <div className=\"scene-editor-actions flex items-center gap-[10px] justify-end mt-[34px]\">\n                                    <Button\n                                      className=\"w-fit rounded-[40px] bg-[#D8D8D8] flex items-center py-[15px] px-[30px] justify-center gap-[12px] text-[#2B1354] text-[16px] font-medium leading-normal cursor-pointer \"\n                                      onClick={handleCancelEdit}\n                                    >\n                                      <span>Cancel</span>\n                                    </Button>\n                                    <Button\n                                      className=\"w-fit rounded-[40px] bg-[#C4CD24] flex items-center py-[15px] px-[30px] justify-center gap-[12px] text-[#2B1354] text-[16px] font-medium leading-normal cursor-pointer \"\n                                      onClick={handleEditContent}\n                                    >\n                                      <span>Save</span>\n                                    </Button>\n                                  </div>\n                                </>\n                              ) : (\n                                <Button\n                                  className=\"scene-editor-actions w-fit rounded-[40px] bg-[#EBEBEB] flex items-center p-[15px] bg-[#EBEBEB] justify-center gap-[12px] text-[#2B1354] text-[16px] font-medium leading-normal cursor-pointer edit-content-btn\"\n                                  onClick={handleStartEdit}\n                                >\n                                  <Image\n                                    width={24}\n                                    height={24}\n                                    alt=\"icon\"\n                                    src=\"/assets/images/edit-content-icon.svg\"\n                                    className=\"w-[24px] h-[24px]\"\n                                  />\n                                  <span>Edit Content</span>\n                                </Button>\n                              )}\n                            </> : null\n                          }\n\n                        </div>\n                      </div>\n\n                    </>\n                  }\n\n                </> : null\n              }\n\n              {\n                scene?.image ? <>\n                  <div className=\"relative bg-[#fff] scene-right-side scene-editor-box-image-box scene-editor-box-data-item\">\n\n                    {editImage ? (\n                      <ImageEditor\n                        image={sceneBase64Image}\n                        handleCancel={handleCancleEditImage}\n                        handleSave={handleSaveEditImage}\n                      />\n                    ) : (\n                      <>\n                        <div className=\"w-fit bg-[#EBEBEB] py-[4px] rounded-[12px] previous-cover-btns\">\n                          {editMode && storyScene?.scene_images &&\n                            !editImage &&\n                            storyScene?.scene_images.map((scene_image, index) => {\n                              return (\n                                <Fragment key={`scene-btn-${index}`}>\n                                  <Button\n                                    className={`${createBackendUrl(scene_image) === sceneImage ? 'active' : ''} previous-cover-image-option border border-[#2B1354] mx-1 p-[4px] rounded-[7px] cursor-pointer`}\n                                    onClick={() => handleSceneImageChange(index)}\n                                  >\n                                    <Image\n                                      width={38}\n                                      height={38}\n                                      alt=\"book-cover-image\"\n                                      src={createBackendUrl(scene_image)}\n                                      className=\"w-[38px] h-[38px] object-cover rounded-[5px]\"\n                                      unoptimized\n                                    />\n                                  </Button>\n                                </Fragment>\n                              );\n                            })}\n                        </div>\n                        <div\n                          className=\"book-cover-scene-container\"\n                        >\n                          <SmartImage\n                            alt=\"book-cover-image\"\n                            src={sceneImage}\n                            className=\"w-full h-[500px] object-cover\"\n                            width={650}\n                            height={650}\n                          />\n                        </div>\n                      </>\n                    )}\n\n                    {\n                      editMode && scene?.type !== \"front_cover\" ? <>\n                        {!editImage && (\n                          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-[11px] book-cover-action\">\n                            <Button\n                              className=\"w-full rounded-[40px] bg-[#EBEBEB] flex items-center p-[12px] bg-[#EBEBEB] justify-center gap-[12px] text-[#2B1354] text-[14px] font-medium leading-normal cursor-pointer\"\n                              onClick={handleStartEditImage}\n                            >\n                              <Image\n                                width={24}\n                                height={24}\n                                alt=\"icon\"\n                                src=\"/assets/images/shapes-btn-icon.svg\"\n                                className=\"w-[24px] h-[24px]\"\n                              />\n                              <span>Text Bubble</span>\n                              <Image\n                                width={7}\n                                height={12}\n                                alt=\"icon\"\n                                src=\"/assets/images/next-line-icon.svg\"\n                                className=\"w-[7px] h-[12px]\"\n                              />\n                            </Button>\n                            <Button\n                              onClick={() => handleStartRegenerateImage(scene)}\n                              className=\"w-full rounded-[40px] bg-[#EBEBEB] flex items-center p-[12px] bg-[#EBEBEB] justify-center gap-[12px] text-[#2B1354] text-[14px] font-medium leading-normal cursor-pointer\">\n                              <Image\n                                width={24}\n                                height={24}\n                                alt=\"icon\"\n                                src=\"/assets/images/regenrate-icon-on-book.svg\"\n                                className=\"w-[24px] h-[24px]\"\n                              />\n                              <span>Regenerate Image</span>\n                            </Button>\n                          </div>\n                        )}\n                      </> : null\n                    }\n\n                    {\n                      scene?.type === \"front_cover\" ? <>\n                        {!editImage && (\n                          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-[11px] book-cover-action\">\n                            <Button\n                              onClick={() => handleEditLayout(scene)}\n                              className=\"w-full rounded-[40px] bg-[#EBEBEB] flex items-center p-[12px] bg-[#EBEBEB] justify-center gap-[12px] text-[#2B1354] text-[14px] font-medium leading-normal cursor-pointer\">\n                              <Image\n                                width={24}\n                                height={24}\n                                alt=\"icon\"\n                                src=\"/assets/images/edit-content-icon.svg\"\n                                className=\"w-[24px] h-[24px]\"\n                              />\n                              <span>Edit Layout</span>\n                            </Button>\n                            <Button\n                              onClick={() => handleRegenerateCoverImage(scene)}\n                              className=\"w-full rounded-[40px] bg-[#EBEBEB] flex items-center p-[12px] bg-[#EBEBEB] justify-center gap-[12px] text-[#2B1354] text-[14px] font-medium leading-normal cursor-pointer\">\n                              <Image\n                                width={24}\n                                height={24}\n                                alt=\"icon\"\n                                src=\"/assets/images/regenrate-icon-on-book.svg\"\n                                className=\"w-[24px] h-[24px]\"\n                              />\n                              <span>Regenerate Images</span>\n                            </Button>\n                          </div>\n                        )}\n                      </> : null}\n                  </div>\n                </> : null\n              }\n\n            </> : <>\n\n              <div className=\"scene-editor-box-empty-box scene-right-side scene-editor-box-data-item mx-auto w-full h-[700px] bg-[#fff] flex flex-col items-center justify-center p-[18px] md:p-[34px] relative pb-[80px]\">\n                <p className=\"text-[20px] text-[#999]\">This page will be empty</p>\n              </div>\n\n            </>\n          }\n\n          {\n            editMode && mode === \"inline\" && scene?.type === \"back_cover\" ? <>\n              <div className=\"relative scene-editor-box-dynamic-box scene-editor-box-data-item\">\n                <StoryBackCover />\n              </div>\n            </> : null\n          }\n\n        </div>\n      </div>\n\n      {\n        regenratemodal ? <>\n          <RegenerateImage\n            story={story}\n            title=\"Regenerate Image\"\n            currentImage={sceneImage}\n            onSave={handleNewGenerateImageSave}\n            showModal={regenratemodal}\n            onModalHide={() => setRegenrateModal(false)}\n            prompt={imagePrompt}\n          />\n        </> : null\n      }\n\n      {regenrateImageModal && sceneToEdit && (\n        <RegenerateStoryImage\n          sceneData={{\n            _id: story._id,\n            characterId: scene.character,\n            image: scene.image,\n            imagePrompt: scene.imagePrompt,\n          }}\n          showModal={regenrateImageModal}\n          onClose={() => setRegenrateImageModal(false)}\n          onSave={handleNewGenerateImageSave}\n        />\n      )}\n\n      {\n        showFrontCoverLayoutModal ? <>\n          <FrontCoverLayoutEditor\n            story={story}\n            showModal={showFrontCoverLayoutModal}\n            onModalHide={() => setShowFrontCoverLayoutModal(false)}\n            onSave={handleNewGenerateImageSave}\n          />\n        </> : null\n      }\n\n    </>\n  );\n\n};\n\nexport default SceneEditor;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3434, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3440, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/components/Story/StoryViewer.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport HTMLFlipBook from \"react-pageflip\";\n\nimport SceneEditor from \"@/components/Story/SceneEditor\";\n\nimport Image from \"next/image\";\nimport { useStory } from \"@/context/StoryContext\";\n\ntype StoryViewerProps = {\n    editMode?: boolean\n}\n\nexport default function StoryViewer({ editMode = true }: StoryViewerProps) {\n\n    const { story, saveUpdatedStory } = useStory();\n\n    const bookRef = useRef<any>(null);\n    const [page, setPage] = useState(0);\n    const [totalPages, setTotalPages] = useState(0);\n\n    useEffect(() => {\n        if (story && story?.scenes) {\n            setTotalPages(story.scenes.length);\n        }\n    }, [story]);\n\n    const flipPrev = () => {\n        if (bookRef.current) {\n            bookRef.current.pageFlip().flipPrev();\n        }\n    }\n\n    const flipNext = () => {\n        if (bookRef.current) {\n            bookRef.current.pageFlip().flipNext();\n        }\n    }\n\n    const onFlip = (e: any) => {\n        setPage(e.data);\n    };\n\n    const handleSceneUpdate = (updatedScene: Scene, index: number) => {\n        if (!story) return false;\n        let tempStory = { ...story };\n        const updatedScenes = [...tempStory.scenes];\n        updatedScenes[index] = updatedScene;\n        tempStory = {\n            ...tempStory,\n            scenes: updatedScenes,\n        };\n        setTimeout(() => {\n            saveUpdatedStory(tempStory);\n        }, 500);\n    };\n\n    return (\n        <>\n            <div className={`${editMode ? 'editor-mode' : 'viewer-mode'} story-viewer-box flex-1 container mx-auto relative z-10 flex justify-center mb-5 md:mt-[36px] mt-[15px]`}>\n                <div className=\"flex flex-col items-center justify-start md:px-6 w-full md:py-8 mx-auto lg:py-0\">\n\n                    <div className=\"story-viewer-main-box w-full bg-[#ebebeb10] rounded-[48px] w-full p-[15px] md:p-[20px]\">\n                        <div className=\"book-viewer-wrapper\">\n                            {story?.scenes && story?.scenes.length > 0 ? (\n                                <>\n                                    <div className=\"book-viewer\">\n                                        <div className=\"book-viewer-pagination pre\">\n                                            <Image\n                                                onClick={flipPrev}\n                                                width={100}\n                                                height={100}\n                                                src=\"/assets/images/next-icon.svg\"\n                                                className={`next-icon prev ${page <= 0 ? 'disabled' : ''}`}\n                                                alt=\"next-icon\"\n                                            />\n                                        </div>\n                                        <div className=\"book-viewer-view\">\n                                            {/* @ts-ignore */}\n                                            <HTMLFlipBook\n                                                ref={bookRef}\n                                                onFlip={onFlip}\n                                                width={1200}\n                                                height={550}\n                                                swipeDistance={0} // Disable swipe on touch\n                                                clickEventForward={false} // Disable clicking to flip\n                                                useMouseEvents={false} // Disable mouse dragging\n                                            >\n                                                {story.scenes.map((scene: Scene, index: number) => {\n                                                    return (\n                                                        <div\n                                                            key={`scene-${index}`}\n                                                            className=\"w-full\"\n                                                        >\n                                                            <SceneEditor\n                                                                editMode={editMode}\n                                                                scene={scene}\n                                                                onSceneUpdate={(updatesScene) => handleSceneUpdate(updatesScene, index)}\n                                                            />\n                                                        </div>\n                                                    );\n                                                })}\n                                            </HTMLFlipBook>\n                                        </div>\n                                        <div className=\"book-viewer-pagination next\">\n                                            <Image\n                                                onClick={flipNext}\n                                                width={100}\n                                                height={100}\n                                                src=\"/assets/images/next-icon.svg\"\n                                                className={`next-icon ${page >= (totalPages - 1) ? 'disabled' : ''}`}\n                                                alt=\"next-icon\"\n                                            />\n                                        </div>\n                                    </div>\n                                </>\n                            ) : null}\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </>\n    );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AAEA;AACA;AARA;;;;;;;AAce,SAAS,YAAY,EAAE,WAAW,IAAI,EAAoB;IAErE,MAAM,EAAE,KAAK,EAAE,gBAAgB,EAAE,GAAG,CAAA,GAAA,wHAAA,CAAA,WAAQ,AAAD;IAE3C,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAO;IAC5B,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,IAAI,SAAS,OAAO,QAAQ;YACxB,cAAc,MAAM,MAAM,CAAC,MAAM;QACrC;IACJ,GAAG;QAAC;KAAM;IAEV,MAAM,WAAW;QACb,IAAI,QAAQ,OAAO,EAAE;YACjB,QAAQ,OAAO,CAAC,QAAQ,GAAG,QAAQ;QACvC;IACJ;IAEA,MAAM,WAAW;QACb,IAAI,QAAQ,OAAO,EAAE;YACjB,QAAQ,OAAO,CAAC,QAAQ,GAAG,QAAQ;QACvC;IACJ;IAEA,MAAM,SAAS,CAAC;QACZ,QAAQ,EAAE,IAAI;IAClB;IAEA,MAAM,oBAAoB,CAAC,cAAqB;QAC5C,IAAI,CAAC,OAAO,OAAO;QACnB,IAAI,YAAY;YAAE,GAAG,KAAK;QAAC;QAC3B,MAAM,gBAAgB;eAAI,UAAU,MAAM;SAAC;QAC3C,aAAa,CAAC,MAAM,GAAG;QACvB,YAAY;YACR,GAAG,SAAS;YACZ,QAAQ;QACZ;QACA,WAAW;YACP,iBAAiB;QACrB,GAAG;IACP;IAEA,qBACI;kBACI,cAAA,8OAAC;YAAI,WAAW,GAAG,WAAW,gBAAgB,cAAc,wGAAwG,CAAC;sBACjK,cAAA,8OAAC;gBAAI,WAAU;0BAEX,cAAA,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;wBAAI,WAAU;kCACV,OAAO,UAAU,OAAO,OAAO,SAAS,kBACrC;sCACI,cAAA,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAI,WAAU;kDACX,cAAA,8OAAC,6HAAA,CAAA,UAAK;4CACF,SAAS;4CACT,OAAO;4CACP,QAAQ;4CACR,KAAI;4CACJ,WAAW,CAAC,eAAe,EAAE,QAAQ,IAAI,aAAa,IAAI;4CAC1D,KAAI;;;;;;;;;;;kDAGZ,8OAAC;wCAAI,WAAU;kDAEX,cAAA,8OAAC,yJAAA,CAAA,UAAY;4CACT,KAAK;4CACL,QAAQ;4CACR,OAAO;4CACP,QAAQ;4CACR,eAAe;4CACf,mBAAmB;4CACnB,gBAAgB;sDAEf,MAAM,MAAM,CAAC,GAAG,CAAC,CAAC,OAAc;gDAC7B,qBACI,8OAAC;oDAEG,WAAU;8DAEV,cAAA,8OAAC,mIAAA,CAAA,UAAW;wDACR,UAAU;wDACV,OAAO;wDACP,eAAe,CAAC,eAAiB,kBAAkB,cAAc;;;;;;mDANhE,CAAC,MAAM,EAAE,OAAO;;;;;4CAUjC;;;;;;;;;;;kDAGR,8OAAC;wCAAI,WAAU;kDACX,cAAA,8OAAC,6HAAA,CAAA,UAAK;4CACF,SAAS;4CACT,OAAO;4CACP,QAAQ;4CACR,KAAI;4CACJ,WAAW,CAAC,UAAU,EAAE,QAAS,aAAa,IAAK,aAAa,IAAI;4CACpE,KAAI;;;;;;;;;;;;;;;;;4CAKpB;;;;;;;;;;;;;;;;;;;;;;AAQhC","debugId":null}},
    {"offset": {"line": 3616, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3622, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/components/Story/ExampleStory.tsx"],"sourcesContent":["\"use client\";\n\nimport { getPublicStory } from \"@/services/public-service\";\nimport { error } from \"console\";\nimport { useEffect, useState } from \"react\";\nimport StoryViewer from \"./StoryViewer\";\nimport { StoryProvider } from \"@/context/StoryContext\";\n\nexport default function ExampleStory() {\n\n  const [showExampleBox, setShowExampleBox] = useState(false);\n  const [story, setStory] = useState(null);\n\n  useEffect(() => {\n    getPublicStory().then((res: any) => {\n      setStory(res?.data);\n      setShowExampleBox(true);\n    }).catch((error: any) => {\n      setShowExampleBox(false);\n    });\n  }, []);\n\n  if (!showExampleBox || !story) {\n    return null;\n  }\n\n  return (\n    <>\n      <section className=\"examples bg-[#3E216E] pt-[43px] pb-[100px] mt-[97px]\">\n        <div className=\"container mx-auto\">\n          <h2 className=\"text-[#EBEBEB] text-center candal-font md:text-[54px] text-[40px] font-normal leading-[108%] tracking-[-2.16px] mb-[84px]\">Story Example</h2>\n        </div>\n        <StoryProvider initialStory={story}>\n          <StoryViewer editMode={false} />\n        </StoryProvider>\n      </section>\n    </>\n  );\n\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;AACA;AACA;AANA;;;;;;AAQe,SAAS;IAEtB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,CAAA,GAAA,8HAAA,CAAA,iBAAc,AAAD,IAAI,IAAI,CAAC,CAAC;YACrB,SAAS,KAAK;YACd,kBAAkB;QACpB,GAAG,KAAK,CAAC,CAAC;YACR,kBAAkB;QACpB;IACF,GAAG,EAAE;IAEL,IAAI,CAAC,kBAAkB,CAAC,OAAO;QAC7B,OAAO;IACT;IAEA,qBACE;kBACE,cAAA,8OAAC;YAAQ,WAAU;;8BACjB,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAG,WAAU;kCAA4H;;;;;;;;;;;8BAE5I,8OAAC,wHAAA,CAAA,gBAAa;oBAAC,cAAc;8BAC3B,cAAA,8OAAC,mIAAA,CAAA,UAAW;wBAAC,UAAU;;;;;;;;;;;;;;;;;;AAMjC","debugId":null}},
    {"offset": {"line": 3691, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3697, "column": 0}, "map": {"version":3,"sources":["file:///Users/mritunjaychaurasia/Desktop/story/app/%28site%29/page.tsx"],"sourcesContent":["// import { Button } from \"@headlessui/react\";\n\"use client\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport { useEffect } from 'react';\nimport { Disclosure, DisclosureButton, DisclosurePanel } from '@headlessui/react'\nimport ExampleStory from \"@/components/Story/ExampleStory\";\nimport { REVIEWS } from \"@/config/constants\";\nimport React from \"react\";\nimport ReviewImages from \"@/components/Common/ReviewImages\";\nimport { BadgeCheck, Images } from \"lucide-react\";\n\n\nexport default async function Home() {\n  // redirect(\"/login\");\n\n\n  useEffect(() => {\n    const script = document.createElement(\"script\");\n    script.src = \"https://embed.famewall.io/frame.js\";\n    script.defer = true;\n    document.body.appendChild(script);\n\n    return () => {\n      document.body.removeChild(script);\n    };\n  }, []);\n  return (\n    <>\n      <section className=\" relative curve-shape homepage\">\n        <div className=\"container mx-auto relative z-10\">\n          <h1 className=\"text-white text-center candal-font text-[84px] font-normal leading-[108%] tracking-[-3.36px] mt-[34px] relative bnr-heading md:max-w-[70%] mx-auto\">Crafting Fairy Tales from Real Life</h1>\n          <div className=\"grid md:grid-cols-3 grid-cols-1 mt-[44px] items-start gap-[18px]\">\n            <div className=\"mt-[25px] order-2 md:order-1\">\n              <h5 className=\"flex items-center gap-[12px] mb-[24px]\">\n                <span className=\"text-white text-right font-poppins text-[26px] font-bold leading-normal\">Process</span>\n                <Image\n                  width={24}\n                  height={24}\n                  alt=\"down-arrow\"\n                  src=\"/assets/images/down-arrow-white.svg\"\n                  className=\"\"\n                />\n              </h5>\n              <div className=\"flex flex-col gap-[12px]\">\n                <Link href=\"my-stories\" >\n                  <div className=\"bg-[#fff1] flex items-center justify-between gap-[18px] p-[8px] pr-[18px] rounded-[24px]\">\n                    <div className=\"flex items-center gap-[18px]\">\n\n                      <div className=\"rounded-[18px] w-[72px] h-[72px] bg-[#C96ADB] flex items-center justify-center\">\n                        <span className=\"text-[#EBEBEB] text-center font-poppins text-[32px] font-semibold leading-none\">1</span>\n                      </div>\n                      <div>\n                        <p className=\"text-white font-poppins text-[18px] font-bold leading-normal\">Share Your Story</p>\n\n                      </div>\n                    </div>\n\n                  </div>\n                </Link>\n                <Link href=\"my-stories\">\n                  <div className=\" flex items-center justify-between gap-[18px] p-[8px] pr-[18px]\">\n                    <div className=\"flex items-center gap-[18px]\">\n\n                      <div className=\"rounded-[18px] w-[72px] h-[72px] bg-[#C4CD24] flex items-center justify-center\">\n                        <span className=\"text-[#2B1354] text-center font-poppins text-[32px] font-semibold leading-none\">2</span>\n                      </div>\n                      <div>\n                        <p className=\"text-white font-poppins text-[18px] font-bold leading-normal\">We Bring it To Life</p>\n                      </div>\n                    </div>\n\n                  </div>\n                </Link>\n                <Link href=\"my-stories\">\n                  <div className=\" flex items-center justify-between gap-[18px] p-[8px] pr-[18px]\">\n                    <div className=\"flex items-center gap-[18px]\">\n\n                      <div className=\"rounded-[18px] w-[72px] h-[72px] bg-[#0CA9F6] flex items-center justify-center\">\n                        <span className=\"text-white text-center font-poppins text-[32px] font-semibold leading-none\">3</span>\n                      </div>\n                      <div>\n                        <p className=\"text-white font-poppins text-[18px] font-bold leading-normal\">We Deliver it to You</p>\n                      </div>\n                    </div>\n\n                  </div>\n                </Link>\n              </div>\n            </div>\n            <div className=\"flex flex-col items-center justify-center  order-1 md:order-2\">\n              <Link href=\"/create-story\" className=\"p-[8px] bg-[#fff2] rounded-[40px] w-fit inline-block\">\n                <div className=\"bg-[#C4CD24] rounded-[40px] p-[6px] pl-[44px] flex items-center gap-[44px] cursor-pointer\">\n                  <span className=\"text-[#2B1354] font-poppins text-[16px] font-medium leading-normal\">\n                    Create Book\n                  </span>\n                  <Image\n                    width={42}\n                    height={42}\n                    alt=\"right-arrow\"\n                    src=\"/assets/images/white-right.svg\"\n                    className=\"p-[12px] rounded-full bg-[#2B1354] -rotate-45\"\n                  />\n                </div>\n              </Link>\n              <Image\n                width={300}\n                height={300}\n                alt=\"book-img\"\n                className=\"mt-[86px] jump-effect\"\n                src=\"/assets/images/bnr-book1.png\"\n              />\n            </div>\n            <div className=\"pt-[100px] relative thread2  order-3 md:order-3\">\n              <div className=\"flex items-center gap-[24px]\">\n                <Image\n                  width={72}\n                  height={72}\n                  alt=\"charactor-img\"\n                  src=\"/assets/images/bnr-right.png\"\n                  className=\"rounded-[18px] w-[72px] h-[72px] object-cover\"\n                />\n                <h5 className=\"text-white text-[26px] font-semibold leading-normal\">Create Your Story</h5>\n              </div>\n              <p className=\"text-white font-poppins text-[18px] font-light leading-normal my-[24px]\">You give us the details. Our easy-to-use AI helps you write and illustrate it. We print it and deliver it to you.</p>\n            </div>\n          </div>\n        </div>\n      </section>\n      <section className=\"relative mt-[80px] md:mt-[15px]\" id=\"how-it-works\">\n        <Image\n          width={2000}\n          height={500}\n          src=\"/assets/images/clouds.png\"\n          alt=\"clouds\"\n          className=\"absolute bottom-[45px] right-0 left-0 w-full max-h-[630px] z-0 hidden md:block\"\n        />\n        <div className=\"container mx-auto relative \">\n          <h2 className=\"text-[#fff] md:text-[#2B282F] text-center candal-font md:text-[54px] text-[40px] font-normal leading-[108%] tracking-[-2.16px]\">Easy 3-Step Process</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-[80px] md:gap-[28px] mt-[94px]\">\n            <div className=\"process-card rounded-[34px] bg-white shadow-[0px_44px_24px_0px_rgba(0,0,0,0.06)] pt-[94px] pb-[44px] px-[24px] relative\">\n              <div className=\"absolute left-1/2 -translate-x-1/2 -top-[50px]  w-fit\">\n                <Image\n                  width={100}\n                  height={100}\n                  alt=\"bg-img\"\n                  src=\"/assets/images/process-bg.svg\"\n                  className=\"\"\n                />\n                <span className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-[#EBEBEB] text-center font-poppins text-2xl font-semibold z-10\">1</span>\n              </div>\n              <h5 className=\"text-[#2B282F] text-center font-poppins text-[22px] font-semibold leading-normal\">Step 1: Share Your Story</h5>\n              <p className=\"text-[#2B282F] text-center text-[18px] font-normal leading-normal mt-[24px]\">Fill in our easy-to-follow form, providing us with your loved one's name, their traits, and a cherished real-life experience or dream adventure you'd like the story to be based on.</p>\n            </div>\n            <div className=\"process-card rounded-[34px] bg-white shadow-[0px_44px_24px_0px_rgba(0,0,0,0.06)] pt-[94px] pb-[44px] px-[24px] relative\">\n              <div className=\"absolute left-1/2 -translate-x-1/2 -top-[50px]  w-fit\">\n                <Image\n                  width={100}\n                  height={100}\n                  alt=\"bg-img\"\n                  src=\"/assets/images/process-bg.svg\"\n                  className=\"\"\n                />\n                <span className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-[#EBEBEB] text-center font-poppins text-2xl font-semibold z-10\">2</span>\n              </div>\n              <h5 className=\"text-[#2B282F] text-center font-poppins text-[22px] font-semibold leading-normal\">Step 2: We Bring it to Life</h5>\n              <p className=\"text-[#2B282F] text-center text-[18px] font-normal leading-normal mt-[24px]\">Our AI system crafts a fully illustrated, personalized book from your submitted details. You can then perfect the book through our easy-to-use editing platform. Each book is guaranteed to be unique, designed specifically around your loved one's experiences.</p>\n            </div>\n            <div className=\"process-card rounded-[34px] bg-white shadow-[0px_44px_24px_0px_rgba(0,0,0,0.06)] pt-[94px] pb-[44px] px-[24px] relative\">\n              <div className=\"absolute left-1/2 -translate-x-1/2 -top-[50px]  w-fit\">\n                <Image\n                  width={100}\n                  height={100}\n                  alt=\"bg-img\"\n                  src=\"/assets/images/process-bg.svg\"\n                  className=\"\"\n                />\n                <span className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-[#EBEBEB] text-center font-poppins text-2xl font-semibold z-10\">3</span>\n              </div>\n              <h5 className=\"text-[#2B282F] text-center font-poppins text-[22px] font-semibold leading-normal\">Step 3: We Deliver it to You</h5>\n              <p className=\"text-[#2B282F] text-center text-[18px] font-normal leading-normal mt-[24px]\">Your personalized book can be delivered in e-book or paperback format. With paperback, we also publish it on Amazon for you, and you keep 75% of profits from sales!</p>\n            </div>\n          </div>\n        </div>\n      </section>\n      <section className=\"mt-[124px]\" id=\"about-us\">\n        <div className=\"container mx-auto\">\n          <div className=\"grid grid-cols-1 md:grid-cols-10 gap-[50px] items-center\">\n            <div className=\"col-span-1 md:col-span-4\">\n              <Image\n                width={800}\n                height={800}\n                alt=\"image\"\n                src=\"/assets/images/about-img.png\"\n                className=\" w-full h-auto\"\n              />\n            </div>\n            <div className=\"col-span-1 md:col-span-6\">\n              <h2 className=\"text-[#EBEBEB] candal-font md:text-[54px] text-[40px] font-normal leading-[108%] tracking-[-2.16px] md:max-w-[80%]\">Why we started Once Upon My Story?</h2>\n              <div className=\"mt-[44px] flex flex-col gap-[16px]\">\n                <p className=\"text-[#EBEBEB] font-poppins text-[18px] font-normal leading-normal\">\n                  Our journey started with a simple wish: to create something truly personal for the little ones. Other companies only offered basic name customizations, with no real connection to real-life experiences. So, we decided to take matters into our own hands.\n                </p>\n                <p className=\"text-[#EBEBEB] font-poppins text-[18px] font-normal leading-normal\">\n                  We mastered tools like Photoshop, Canva, DALL-E and Amazon KDP to craft fully personalized, heartfelt stories that bring your loved one's unique adventures to life.\n                </p>\n                <p className=\"text-[#EBEBEB] font-poppins text-[18px] font-normal leading-normal\">\n                  Once Upon My Story's mission is simple: to help you gift your loved one a truly one-of-a-kind story at a fair price.\n                </p>\n              </div>\n              <Link href=\"/create-story\" className=\"p-[8px] bg-[#fff2] rounded-[40px] mt-[34px] w-fit inline-block\">\n                <div className=\"bg-[#C4CD24] rounded-[40px] p-[6px] pl-[44px] flex items-center gap-[44px] cursor-pointer\">\n                  <span className=\"text-[#2B1354] font-poppins text-[16px] font-medium leading-normal\">\n                    Create Book\n                  </span>\n                  <Image\n                    width={42}\n                    height={42}\n                    alt=\"right-arrow\"\n                    src=\"/assets/images/white-right.svg\"\n                    className=\"p-[12px] rounded-full bg-[#2B1354] -rotate-45\"\n                  />\n                </div>\n              </Link>\n            </div>\n          </div>\n        </div>\n      </section >\n      <ExampleStory />\n      <section className=\"bg-[#2D0C5E] py-12 px-4\">\n        <div className=\"max-w-6xl mx-auto text-center\">\n          <h2 className=\"text-white text-3xl md:text-4xl font-bold mb-10\">What Our Users Say</h2>\n\n          <div className=\"my-12 w-full\">\n            <div\n              className=\"famewall-embed\"\n              data-src=\"kidsbookreview\"\n              data-format=\"grid\"\n              style={{ width: '100%' }}\n            ></div>\n          </div>\n\n        </div>\n      </section>\n\n\n      <section className=\"py-[124px]\">\n        <div className=\"container mx-auto\">\n          <h2 className=\"text-[#EBEBEB] text-center candal-font md:text-[54px] text-[40px] font-normal leading-[108%] tracking-[-2.16px] md:max-w-[50%] mx-auto mb-[84px]\">Frequently Asked Questions</h2>\n          <Disclosure as=\"div\" className=\"md:py-[28px] p-[15px] md:px-[44px] bg-[#3E216E] rounded-[30px] mb-[18px]\" defaultOpen={false}>\n            <DisclosureButton className=\"group flex w-full items-center justify-between cursor-pointer gap-[18px]\">\n              <span className=\"text-[#EBEBEB] font-poppins text-[20px] md:text-[24px] font-bold leading-normal text-start\">\n                1. How personalized is a Once Upon My Story book?\n              </span>\n              <Image\n                width={28}\n                height={28}\n                alt=\"icon\"\n                src=\"/assets/images/faq-plus.svg\"\n                className=\"md:w-[28px] w-[16px] h-[16px] md:h-[28px] plus\"\n              />\n              <Image\n                width={28}\n                height={28}\n                alt=\"icon\"\n                src=\"/assets/images/faq-minus.svg\"\n                className=\"md:w-[28px] w-[16px] h-[16px] md:h-[28px] minus\"\n              />\n            </DisclosureButton>\n            <DisclosurePanel className=\"text-[#EBEBEB] font-poppins text-[18px] font-normal leading-[184%] mt-[24px] \">\n              <p>Each Once Upon My Story book is deeply personalized. It's not just about inserting your loved one's name in the story. We base the storyline on their interests, real-life experiences, or anything else you share with us.</p>\n              <p>Each book includes:</p>\n              <ul className=\"list-disc ml-[30px]\">\n                <li>Story Development: We craft an exclusive story, inspired by the unique information you provide about your loved one.</li>\n                <li>Character Designs: Our AI system creates unique character designs based on your loved one's likeness and personality.</li>\n                <li>Illustrations: We bring the story to life with 8 custom illustrations, capturing the adventures of your loved one.</li>\n              </ul>\n\n            </DisclosurePanel>\n          </Disclosure>\n          <Disclosure as=\"div\" className=\"md:py-[28px] p-[15px] md:px-[44px] bg-[#3E216E] rounded-[30px] mb-[18px]\" defaultOpen={false}>\n            <DisclosureButton className=\"group flex w-full items-center justify-between cursor-pointer gap-[18px]\">\n              <span className=\"text-[#EBEBEB] font-poppins text-[20px] md:text-[24px] font-bold leading-normal text-start\">\n                2. How does the order process work?\n              </span>\n              <Image\n                width={28}\n                height={28}\n                alt=\"icon\"\n                src=\"/assets/images/faq-plus.svg\"\n                className=\"md:w-[28px] w-[16px] h-[16px] md:h-[28px] plus\"\n              />\n              <Image\n                width={28}\n                height={28}\n                alt=\"icon\"\n                src=\"/assets/images/faq-minus.svg\"\n                className=\"md:w-[28px] w-[16px] h-[16px] md:h-[28px] minus\"\n              />\n            </DisclosureButton>\n            <DisclosurePanel className=\"text-[#EBEBEB] font-poppins text-[18px] font-normal leading-[184%] mt-[24px] \">\n              <p>First, you provide us with details about your loved one - their name, traits, interests, and any specific experiences or themes you'd like in the story. Our AI system will create a draft of the fully illustrated book.</p>\n              <p className=\"\">Next, use our easy-to-follow book builder platform to edit and finalize your book.</p>\n              <p>Finally, we deliver your completed book to you in either e-book or paperback format.</p>\n            </DisclosurePanel>\n          </Disclosure>\n          <Disclosure as=\"div\" className=\"md:py-[28px] p-[15px] md:px-[44px] bg-[#3E216E] rounded-[30px] mb-[18px]\" defaultOpen={false}>\n            <DisclosureButton className=\"group flex w-full items-center justify-between cursor-pointer gap-[18px]\">\n              <span className=\"text-[#EBEBEB] font-poppins text-[20px] md:text-[24px] font-bold leading-normal text-start\">\n                3. How long does it take to receive my book?\n              </span>\n              <Image\n                width={28}\n                height={28}\n                alt=\"icon\"\n                src=\"/assets/images/faq-plus.svg\"\n                className=\"md:w-[28px] w-[16px] h-[16px] md:h-[28px] plus\"\n              />\n              <Image\n                width={28}\n                height={28}\n                alt=\"icon\"\n                src=\"/assets/images/faq-minus.svg\"\n                className=\"md:w-[28px] w-[16px] h-[16px] md:h-[28px] minus\"\n              />\n            </DisclosureButton>\n            <DisclosurePanel className=\"text-[#EBEBEB] font-poppins text-[18px] font-normal leading-[184%] mt-[24px] \">\n              <p>You will receive your e-book immediately after finalizing it on our book builder platform.</p>\n              <p>\n                If you choose the paperback option, delivery times typically take 1-2 weeks but can vary based on Amazon's shipping schedule.\n              </p>\n            </DisclosurePanel>\n          </Disclosure>\n          <Disclosure as=\"div\" className=\"md:py-[28px] p-[15px] md:px-[44px] bg-[#3E216E] rounded-[30px] mb-[18px]\" defaultOpen={false}>\n            <DisclosureButton className=\"group flex w-full items-center justify-between cursor-pointer gap-[18px]\">\n              <span className=\"text-[#EBEBEB] font-poppins text-[20px] md:text-[24px] font-bold leading-normal text-start\">\n                4. How much does a Once Upon My Story book cost?\n              </span>\n              <Image\n                width={28}\n                height={28}\n                alt=\"icon\"\n                src=\"/assets/images/faq-plus.svg\"\n                className=\"md:w-[28px] w-[16px] h-[16px] md:h-[28px] plus\"\n              />\n              <Image\n                width={28}\n                height={28}\n                alt=\"icon\"\n                src=\"/assets/images/faq-minus.svg\"\n                className=\"md:w-[28px] w-[16px] h-[16px] md:h-[28px] minus\"\n              />\n            </DisclosureButton>\n            <DisclosurePanel className=\"text-[#EBEBEB] font-poppins text-[18px] font-normal leading-[184%] mt-[24px] \">\n              <p>\n                It will cost US$19.99 (or local currency equivalent) to use our AI system + book builder to create your custom book.For a paperback copy delivered to your door, it will cost you an additional US$16.99 (or local currency equivalent).\n              </p>\n            </DisclosurePanel>\n          </Disclosure>\n          <Disclosure as=\"div\" className=\"md:py-[28px] p-[15px] md:px-[44px] bg-[#3E216E] rounded-[30px] mb-[18px]\" defaultOpen={false}>\n            <DisclosureButton className=\"group flex w-full items-center justify-between cursor-pointer gap-[18px]\">\n              <span className=\"text-[#EBEBEB] font-poppins text-[20px] md:text-[24px] font-bold leading-normal text-start\">\n                5. How can I get in touch with you?\n              </span>\n              <Image\n                width={28}\n                height={28}\n                alt=\"icon\"\n                src=\"/assets/images/faq-plus.svg\"\n                className=\"md:w-[28px] w-[16px] h-[16px] md:h-[28px] plus\"\n              />\n              <Image\n                width={28}\n                height={28}\n                alt=\"icon\"\n                src=\"/assets/images/faq-minus.svg\"\n                className=\"md:w-[28px] w-[16px] h-[16px] md:h-[28px] minus\"\n              />\n            </DisclosureButton>\n            <DisclosurePanel className=\"text-[#EBEBEB] font-poppins text-[18px] font-normal leading-[184%] mt-[24px] \">\n              <p>Email us at {\" \"}\n                <Link className=\"underline\" href=\"mailto:hello@onceuponmystory.com\">\n                  hello@onceuponmystory.com.\n                </Link>\n                {\" \"}We aim to reply all emails within 24 hours!</p>\n            </DisclosurePanel>\n          </Disclosure>\n          <Disclosure as=\"div\" className=\"md:py-[28px] p-[15px] md:px-[44px] bg-[#3E216E] rounded-[30px] mb-[18px]\" defaultOpen={false}>\n            <DisclosureButton className=\"group flex w-full items-center justify-between cursor-pointer gap-[18px]\">\n              <span className=\"text-[#EBEBEB] font-poppins text-[20px] md:text-[24px] font-bold leading-normal text-start\">\n                6. Can I order a book as a gift?\n              </span>\n              <Image\n                width={28}\n                height={28}\n                alt=\"icon\"\n                src=\"/assets/images/faq-plus.svg\"\n                className=\"md:w-[28px] w-[16px] h-[16px] md:h-[28px] plus\"\n              />\n              <Image\n                width={28}\n                height={28}\n                alt=\"icon\"\n                src=\"/assets/images/faq-minus.svg\"\n                className=\"md:w-[28px] w-[16px] h-[16px] md:h-[28px] minus\"\n              />\n            </DisclosureButton>\n            <DisclosurePanel className=\"text-[#EBEBEB] font-poppins text-[18px] font-normal leading-[184%] mt-[24px] \">\n              <p>Absolutely! A Once Upon My Story book makes a perfect gift. Just provide the details of the loved one for whom you're ordering, and we'll send the book to them.</p>\n            </DisclosurePanel>\n\n          </Disclosure>\n\n        </div>\n      </section>\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4935, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}